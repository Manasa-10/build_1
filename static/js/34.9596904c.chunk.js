(this.webpackJsonpwakefit=this.webpackJsonpwakefit||[]).push([[34],{342:function(e,t,a){"use strict";var l=a(2),s=a(7),i=a(0),r=(a(1),a(8)),n=a(297),o=a(668),c=a(707),d=a(305),m=a(295),u=a(298),p=a(706),h=a(12),b={standard:n.a,filled:o.a,outlined:c.a},f=i.forwardRef((function(e,t){var a=e.autoComplete,n=e.autoFocus,o=void 0!==n&&n,c=e.children,h=e.classes,f=e.className,v=e.color,C=void 0===v?"primary":v,g=e.defaultValue,D=e.disabled,y=void 0!==D&&D,E=e.error,T=void 0!==E&&E,w=e.FormHelperTextProps,N=e.fullWidth,x=void 0!==N&&N,P=e.helperText,F=e.hiddenLabel,L=e.id,_=e.InputLabelProps,H=e.inputProps,O=e.InputProps,S=e.inputRef,j=e.label,M=e.multiline,k=void 0!==M&&M,A=e.name,W=e.onBlur,I=e.onChange,R=e.onFocus,q=e.placeholder,B=e.required,V=void 0!==B&&B,J=e.rows,G=e.rowsMax,U=e.select,z=void 0!==U&&U,K=e.SelectProps,Q=e.type,X=e.value,Y=e.variant,Z=void 0===Y?"standard":Y,$=Object(s.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};"outlined"===Z&&(_&&"undefined"!==typeof _.shrink&&(ee.notched=_.shrink),ee.label=j?i.createElement(i.Fragment,null,j,V&&"\xa0*"):j),z&&(K&&K.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var te=P&&L?"".concat(L,"-helper-text"):void 0,ae=j&&L?"".concat(L,"-label"):void 0,le=b[Z],se=i.createElement(le,Object(l.a)({"aria-describedby":te,autoComplete:a,autoFocus:o,defaultValue:g,fullWidth:x,multiline:k,name:A,rows:J,rowsMax:G,type:Q,value:X,id:L,inputRef:S,onBlur:W,onChange:I,onFocus:R,placeholder:q,inputProps:H},ee,O));return i.createElement(m.a,Object(l.a)({className:Object(r.a)(h.root,f),disabled:y,error:T,fullWidth:x,hiddenLabel:F,ref:t,required:V,color:C,variant:Z},$),j&&i.createElement(d.a,Object(l.a)({htmlFor:L,id:ae},_),j),z?i.createElement(p.a,Object(l.a)({"aria-describedby":te,id:L,labelId:ae,value:X,input:se},K),c):se,P&&i.createElement(u.a,Object(l.a)({id:te},w),P))}));t.a=Object(h.a)({root:{}},{name:"MuiTextField"})(f)},605:function(e,t,a){},606:function(e,t,a){},696:function(e,t,a){"use strict";a.r(t);var l=a(0),s=a.n(l),i=a(21),r=a(16),n=(a(605),a(162)),o=a(147),c=a(163),d=a.n(c),m=(a(606),a(136)),u=(a(184),a(56)),p=a.n(u);function h(e){let t=e.original;const a=new Date(t.call_date+" "+t.call_time);return s.a.createElement("div",null,d()(a,"dS mmm, yyyy h:MM TT"))}function b(e){let t=e.original,a=t.call_timestamp_log&&t.call_timestamp_log.split("|").map((e,t)=>s.a.createElement("div",{className:"custom-badge pointer"},p()(e,"HH:mm:ss").format("h:mm:ss A")));return s.a.createElement("div",{className:"missed-call-logs"},a)}class f extends s.a.Component{render(){const e=this.props.callDetails;return s.a.createElement("div",{className:"missed-calls-container"},s.a.createElement(m.b,{data:e,filterable:!0,minRows:0,NoDataComponent:()=>null,defaultFilterMethod:(e,t)=>String(t[e.id]).toLocaleLowerCase().includes(e.value.toLocaleLowerCase()),columns:[{Header:"S.No",id:"row",width:50,filterable:!1,Cell:e=>s.a.createElement("div",null,e.index+1)},{Header:"Customer Number",accessor:"customer_phone",maxWidth:150},{Header:"Missed Call Details",accessor:"call_time",minWidth:200,Cell:h},{Header:"Missed Call Logs",accessor:"call_timestamp_log",minWidth:300,Cell:b},{Header:"Call Attemts",accessor:"missed_times",maxWidth:100},{Header:"Last Update Timestamp",accessor:"last_call_time",minWidth:150,Cell:e=>p()(e.value,"HH:mm:ss").format("h:mm:ss A")}]}))}}f.defaultProps={};var v=f,C=a(85),g=a(32),D=a(31),y=a(295),E=a(342),T=a(298);class w extends s.a.Component{constructor(...e){super(...e),this.state={callType:"",tabs:[{label:"Missed Calls",callType:"missed"},{label:"Outgoing Calls",callType:"outbound"},{label:"Incoming Calls",callType:"inbound"}],fields:{startDate:"",endDate:""},errors:{startDate:"",endDate:""}},this.getCallDetails=()=>{this.props.getAllCallDetails(this.state.callType,this.props.userDetails.contact,this.state.fields.startDate,this.state.fields.endDate)},this.getCalls=e=>{this.state.callType!==e&&this.setState({callType:e},()=>this.getCallDetails())},this.getTabs=()=>s.a.createElement("div",{className:"menu-container"},this.state.tabs.map((e,t)=>s.a.createElement("div",{className:e.callType===this.state.callType?"tab pointer active":"tab pointer",onClick:()=>this.getCalls(e.callType)},e.label))),this.getActiveTabName=()=>{let e=this.state.tabs.filter(e=>e.callType===this.state.callType);return 0!==e.length&&e[0].label},this.handleChange=e=>{let t=e.target.name,a=e.target.value,l=this.state,s=l.fields,i=l.errors;s[t]=a,this.setState({fields:s,errors:i})},this.onSubmit=e=>{e.preventDefault(),this.getCallDetails()},this.noCalls=()=>s.a.createElement("div",{className:"no-calls"},"No Cloud Telephony Calls Assigned to you yet..."),this.loadingComponent=()=>s.a.createElement("div",{className:"no-calls"},"Getting Call details...")}componentDidMount(){this.setState({callType:"missed"},()=>this.getCallDetails())}render(){let e=this.props,t=e.callDetails,a=e.loading,l="Cloud Telephony - ".concat(this.getActiveTabName()),i=Object(D.f)(),r=this.state.errors;return s.a.createElement("div",{className:"totalcalls-container"},s.a.createElement(C.a,{header:l,count:t&&t.length}),s.a.createElement("form",{className:"date-filter"},s.a.createElement("div",{className:"date-filter-text"},"Date Filter :"),s.a.createElement(y.a,{className:"full-width form-control-custom custom-width width-150",error:r.startDate},s.a.createElement(E.a,{id:"startDate",name:"startDate",label:"Start Date",type:"date",onChange:this.handleChange,inputProps:{max:i},InputLabelProps:{shrink:!0},value:this.state.fields.startDate}),s.a.createElement(T.a,{id:"startDate"},r.startDate)),s.a.createElement(y.a,{className:"full-width form-control-custom custom-width width-150",error:r.endDtae},s.a.createElement(E.a,{id:"endDtae",name:"endDtae",label:"End Date",type:"date",onChange:this.handleChange,inputProps:{max:i},InputLabelProps:{shrink:!0},value:this.state.fields.endDtae}),s.a.createElement(T.a,{id:"endDtae"},r.endDtae)),s.a.createElement(g.a,{label:"Submit",type:"submit",onClick:this.onSubmit})),this.getTabs(),Array.isArray(t)&&t.length>0?"missed"===this.state.callType?s.a.createElement(v,{callDetails:t}):s.a.createElement(o.a,{callDetails:t,activeTab:this.state.callType}):a?this.loadingComponent():!a&&this.noCalls())}}t.default=Object(i.b)((e,t)=>({userDetails:e.userDetails,callDetails:e.callDetails.calls,loading:e.callDetails.loading}),e=>Object(r.b)({getAllCallDetails:n.a,resetCalls:n.b},e))(w)}}]);
//# sourceMappingURL=34.9596904c.chunk.js.map