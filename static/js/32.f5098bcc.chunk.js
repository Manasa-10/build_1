(this.webpackJsonpwakefit=this.webpackJsonpwakefit||[]).push([[32],{337:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));const s=(e,t)=>{if(!e)return;let a,s=new FileReader;s.readAsDataURL(e),s.onloadend=()=>{let e=s.result.split(",");a=e.length>0?e[1]:s.result,t(a)}};function i(e){for(var t,a=t=(e=[].slice.call(Array.isArray(e)?e:arguments)).length,s=!0;a--&&s;)s=e[a]instanceof File;if(!s)throw new TypeError("expected argument to FileList is File or array of File objects");for(a=new ClipboardEvent("").clipboardData||new DataTransfer;t--;)a.items.add(e[t]);return a.files}},476:function(e,t,a){},477:function(e,t,a){},688:function(e,t,a){"use strict";a.r(t);var s=a(9),i=a(0),r=a.n(i),l=(a(476),a(16)),o=a(21),n=a(85),c=a(32),p=a(97),h=a(4),u=a(13),m=a(11);function d(e){return t=>{t(Object(h.b)()),Object(m.zb)(e).then(e=>{t(Object(h.a)()),t(function(e){return{type:p.c,data:e}}(e.data))}).catch(e=>{Object(u.a)(e,t)})}}function b(){return{type:p.a}}function f(){return{type:p.b}}var g=a(337),C=a(136);a(184),a(477);class w extends i.Component{constructor(...e){super(...e),this.customCell=e=>r.a.createElement("div",{className:e.original.status?"success-color break-word":"error-color break-word"},e.value)}render(){let e=this.props.tableData;return r.a.createElement(C.b,{data:e.data,filterable:!0,minRows:0,pageSize:9999,PaginationComponent:()=>null,NoDataComponent:()=>null,defaultFilterMethod:(e,t)=>String(t[e.id]).toLocaleLowerCase().includes(e.value.toLocaleLowerCase()),columns:[{Header:"S.No",id:"row",maxWidth:50,filterable:!1,Cell:e=>r.a.createElement("div",null,e.index+1)},{Header:"Invoice Number",accessor:"invoice_number",width:200,show:this.props.tableData&&this.props.tableData.response_type&&"logistic"===this.props.tableData.response_type.toLocaleLowerCase(),Cell:this.customCell},{Header:"Customer Name",accessor:"customer_name",width:230,show:this.props.tableData&&this.props.tableData.response_type&&"logistic"===this.props.tableData.response_type.toLocaleLowerCase(),Cell:this.customCell},{Header:"Mobile Number",accessor:"mobile_number",width:250,show:this.props.tableData&&this.props.tableData.response_type&&"ivr"===this.props.tableData.response_type.toLocaleLowerCase(),Cell:this.customCell},{Header:"Result",accessor:"message",minWidth:320,Cell:this.customCell}]})}}class v extends i.Component{constructor(e){super(e),this.resetForm=()=>{this.setState({data:{attachments:""},enableSubmit:!1}),this.fileInput.current.files=Object(g.a)([])},this.validateForm=()=>{let e=this.state.data,t=!1;t=["attachments"].every(t=>""!==e[t]),this.setState({enableSubmit:t})},this.handleChange=e=>{let t=e.target.name,a=e.target.value,s=this.state.data;if("attachments"===t){if(e.target.files.length>0){let e=this.fileInput.current.files[0];Object(g.b)(e,e=>{s.attachments=e,this.setState({data:s},()=>{this.validateForm()})})}}else s[t]=a;this.setState({data:s},()=>{this.validateForm()})},this.uploadLogistic=()=>{let e=this.state.data,t=Object(s.a)({},e);this.props.importLogisticAction(t)},this.state={data:{attachments:""},enableSubmit:!1},this.fileInput=r.a.createRef()}componentWillReceiveProps(e){e.reset&&(this.resetForm(),this.props.resetData())}componentWillUnmount(){this.props.resetLogisticSheet()}render(){let e=this.props,t=e.result,a=e.userDetails,s=t&&t.message,i="".concat(a.role.includes("TEAML")?"Import IVR Sheet":"Logistics Sheet");return r.a.createElement("div",null,r.a.createElement("div",{className:"logistic-container"},r.a.createElement(n.a,{header:i}),r.a.createElement("div",{className:"field-container"},r.a.createElement("b",{style:{paddingRight:"15px"}},"Upload Sheet"),r.a.createElement("input",{name:"attachments",className:"attachment",type:"file",onChange:this.handleChange,multiple:!0,ref:this.fileInput,accept:".xlsx, .xls, .csv",encType:"multipart/form-data"}),r.a.createElement(c.a,{label:"Import Sheet",className:"flex-container",onClick:this.uploadLogistic,disabled:!this.state.enableSubmit}))),r.a.createElement("div",{className:"table-container"},s&&s.data&&Array.isArray(s.data)&&s.data.length>0&&r.a.createElement(w,{tableData:s})))}}t.default=Object(o.b)((e,t)=>({userDetails:e.userDetails,result:e.importLogistic.result,reset:e.importLogistic.onUploadSuccess}),e=>Object(l.b)({importLogisticAction:d,resetLogisticSheet:b,resetData:f},e))(v)}}]);
//# sourceMappingURL=32.f5098bcc.chunk.js.map