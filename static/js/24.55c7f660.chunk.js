(this.webpackJsonpwakefit=this.webpackJsonpwakefit||[]).push([[24],{337:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return l}));const i=(e,t)=>{if(!e)return;let a,i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{let e=i.result.split(",");a=e.length>0?e[1]:i.result,t(a)}};function l(e){for(var t,a=t=(e=[].slice.call(Array.isArray(e)?e:arguments)).length,i=!0;a--&&i;)i=e[a]instanceof File;if(!i)throw new TypeError("expected argument to FileList is File or array of File objects");for(a=new ClipboardEvent("").clipboardData||new DataTransfer;t--;)a.items.add(e[t]);return a.files}},473:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){},682:function(e,t,a){"use strict";a.r(t);var i=a(0),l=a.n(i),s=a(21),n=a(16),r=(a(473),a(85)),c=(a(474),a(32)),o=a(337);class f extends i.Component{constructor(...e){super(...e),this.state={data:{affiliate_id:"",attachments:""},enableSubmit:!1},this.fileInput=l.a.createRef(),this.resetForm=()=>{this.setState({data:{affiliate_id:"",attachments:""},enableSubmit:!1}),this.fileInput.current.files=Object(o.a)([])},this.validateForm=()=>{let e=this.state.data,t=!1;t=["affiliate_id","attachments"].every(t=>""!==e[t]),this.setState({enableSubmit:t})},this.uploadAffiliateSheet=()=>{this.props.uploadAffiliateSheet(this.state.data)},this.handleChange=e=>{let t=this.state.data,a=e.target.name,i=e.target.value;switch(a){case"attachments":if(e.target.files.length>0){let e=this.fileInput.current.files[0];Object(o.b)(e,e=>{t.attachments=e,this.setState({data:t},()=>{this.validateForm()})})}t[a]=i;break;default:t[a]=i}this.setState({data:t},()=>this.validateForm())}}componentWillReceiveProps(e){e.resetAffiliate&&this.resetForm()}render(){let e=this.state.data;return l.a.createElement("form",{className:"upload-affiliate-sheet"},l.a.createElement("div",{className:"input-container"},l.a.createElement("b",{className:"input-label"},"Import Type"),l.a.createElement("div",{className:"flex-container"},l.a.createElement("div",{className:"field-container"},l.a.createElement("input",{id:"affiliate_id-1",name:"affiliate_id",type:"radio",onChange:this.handleChange,checked:"1"===e.affiliate_id,value:1}),l.a.createElement("label",{htmlFor:"affiliate_id-1"},"Amazon")),l.a.createElement("div",{className:"field-container"},l.a.createElement("input",{id:"affiliate_id-2",name:"affiliate_id",type:"radio",onChange:this.handleChange,checked:"2"===e.affiliate_id,value:2}),l.a.createElement("label",{htmlFor:"affiliate_id-2"},"Pepperfry")),l.a.createElement("div",{className:"field-container"},l.a.createElement("input",{id:"affiliate_id-3",name:"affiliate_id",type:"radio",onChange:this.handleChange,checked:"3"===e.affiliate_id,value:3}),l.a.createElement("label",{htmlFor:"affiliate_id-3"},"Flipkart")))),l.a.createElement("div",{className:"input-container"},l.a.createElement("b",{className:"input-label"},"Upload"),l.a.createElement("div",{className:"field-container upload"},l.a.createElement("input",{name:"attachments",className:"attachment",type:"file",onChange:this.handleChange,ref:this.fileInput,accept:".xlsx, .xls, .csv",encType:"multipart/form-data"}))),l.a.createElement("div",{className:"field-container"},l.a.createElement(c.a,{label:"Upload",onClick:this.uploadAffiliateSheet,disabled:!this.state.enableSubmit})))}}var d=f,m=a(96),h=a(4),p=a(13),u=a(11);function b(e){return t=>{t(Object(h.b)()),Object(u.yb)(e).then(e=>{t(Object(h.a)()),t(function(e){return{type:m.c,data:e}}(e.data.message)),t(E())}).catch(e=>{Object(p.a)(e,t)})}}function E(){return{type:m.b}}function v(){return{type:m.a}}a(475);class g extends l.a.Component{constructor(...e){super(...e),this.state={tabs:[{label:"Existing",key:"existing_cart_ids"},{label:"Failed",key:"failed_cart_ids"}],activeTab:"existing_cart_ids"},this.handleChange=e=>{this.setState({activeTab:e})}}render(){let e=this.state,t=e.tabs,a=e.activeTab,i=this.props.data;return l.a.createElement("div",{className:"import-orders-table"},l.a.createElement("div",{className:"success-message"},l.a.createElement("b",null,i.success_count)," got Imported!"),l.a.createElement("div",{className:"title"},"Existing/Failed Orders"),l.a.createElement("div",{className:"tabs-container"},t.map((e,t)=>l.a.createElement("div",{key:"tab-".concat(t),className:e.key===a?"import-tab active":"import-tab",onClick:()=>this.handleChange(e.key)},e.label))),l.a.createElement("table",{className:"table"},l.a.createElement("tr",null,l.a.createElement("th",{className:"slno"},"S.No"),l.a.createElement("th",{className:"cart-id"},"Cart Id")),i[a].map((e,t)=>l.a.createElement("tr",{key:"error-row-".concat(t)},l.a.createElement("td",{className:"slno"},t+1),l.a.createElement("td",{className:"cart-id"},e)))))}}var A=g;class N extends i.Component{componentWillUnmount(){this.props.resetAffiliateUloadComponent()}render(){return l.a.createElement("div",{className:"import-affiliate-container"},l.a.createElement(r.a,{header:"Affiliate Orders"}),l.a.createElement("div",{className:"import-affiliate-content"},l.a.createElement(d,{resetAffiliate:this.props.resetAffiliate,uploadAffiliateSheet:this.props.uploadAffiliateSheetAction,resetAffiliateData:this.props.resetAffiliateData}),this.props.successData&&l.a.createElement(A,{data:this.props.successData})))}}t.default=Object(s.b)((e,t)=>({successData:e.importAffiliateOrders.successData,resetAffiliate:e.importAffiliateOrders.resetAffiliate}),e=>Object(n.b)({uploadAffiliateSheetAction:b,resetAffiliateData:E,resetAffiliateUloadComponent:v},e))(N)}}]);
//# sourceMappingURL=24.55c7f660.chunk.js.map