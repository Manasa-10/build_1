(this.webpackJsonpwakefit=this.webpackJsonpwakefit||[]).push([[8],{309:function(e,t,a){"use strict";a.d(t,"b",(function(){return l}));var i=a(0),n=a.n(i),r=a(31);const l=(e,t)=>t._original[e.id]&&String(Object(r.c)(String(t._original[e.id]))).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());t.a=e=>e.value?n.a.createElement("div",null,Object(r.c)(e.value)):""},312:function(e,t,a){"use strict";var i=a(0),n=a.n(i);a(313);class r extends i.Component{render(){let e=this.props,t=e.offset,a=e.limit,i=e.total,r=e.onPrevClick,l=e.onNextClick,s=e.dropDownValues,o=e.onLimitChange,c=e.filtered,d=e.filteredData;return n.a.createElement("div",{className:"pagination-container"},n.a.createElement("button",{className:"navigation-button pointer",disabled:0===t,onClick:()=>r("prev")},n.a.createElement("i",{className:"fa fa-angle-left","aria-hidden":"true"})),n.a.createElement("div",{className:"pagination-text"},t," to ",t+a<=i?t+a:i," of ",i),n.a.createElement("button",{className:"navigation-button pointer",disabled:t+a>=i,onClick:()=>l("next")},n.a.createElement("i",{className:"fa fa-angle-right","aria-hidden":"true"})),Array.isArray(s)&&s.length>0&&n.a.createElement("select",{className:"custom-dropdown",onChange:o,value:a},s.map((e,t)=>n.a.createElement("option",{key:t,value:e},e))),Array.isArray(c)&&c.length>0&&Array.isArray(d)&&d.length>0&&n.a.createElement("div",{className:"matched-records-data"},n.a.createElement("b",null,"Matched Records :")," ",d.length))}}r.defaultProps={offset:0,limit:0,total:0,dropDownValues:[]},t.a=r},313:function(e,t,a){},323:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(659),l=a(611),s=a(299),o=a(303),c=a(142),d=a.n(c);class m extends i.Component{constructor(...e){super(...e),this.state={toggle:!1},this.handleCollapse=e=>this.setState({toggle:e},()=>this.props.callbackOnClose&&this.props.callbackOnClose())}componentDidMount(){let e=this.props.toggle;this.setState({toggle:e})}render(){let e=this.props,t=e.message,a=e.title,i=e.type,c=this.state.toggle;return n.a.createElement(o.a,{in:c,style:{width:"100%"}},n.a.createElement(r.a,{severity:i,action:n.a.createElement(s.a,{"aria-label":"close",color:"inherit",size:"small",onClick:()=>this.handleCollapse(!1)},n.a.createElement(d.a,{fontSize:"inherit"}))},a&&n.a.createElement(l.a,null,a),t))}}m.defaultProps={message:"",title:"",toggle:!0,type:"info"},t.a=m},330:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n}));const i=[10,25,50,75,100],n=25},342:function(e,t,a){"use strict";var i=a(2),n=a(7),r=a(0),l=(a(1),a(8)),s=a(297),o=a(668),c=a(707),d=a(305),m=a(295),u=a(298),p=a(706),h=a(12),_={standard:s.a,filled:o.a,outlined:c.a},g=r.forwardRef((function(e,t){var a=e.autoComplete,s=e.autoFocus,o=void 0!==s&&s,c=e.children,h=e.classes,g=e.className,f=e.color,b=void 0===f?"primary":f,y=e.defaultValue,v=e.disabled,E=void 0!==v&&v,k=e.error,C=void 0!==k&&k,N=e.FormHelperTextProps,R=e.fullWidth,O=void 0!==R&&R,w=e.helperText,S=e.hiddenLabel,L=e.id,x=e.InputLabelProps,D=e.inputProps,P=e.InputProps,A=e.inputRef,q=e.label,W=e.multiline,j=void 0!==W&&W,M=e.name,I=e.onBlur,T=e.onChange,F=e.onFocus,B=e.placeholder,H=e.required,V=void 0!==H&&H,G=e.rows,z=e.rowsMax,Q=e.select,Y=void 0!==Q&&Q,U=e.SelectProps,K=e.type,$=e.value,J=e.variant,Z=void 0===J?"standard":J,X=Object(n.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var ee={};"outlined"===Z&&(x&&"undefined"!==typeof x.shrink&&(ee.notched=x.shrink),ee.label=q?r.createElement(r.Fragment,null,q,V&&"\xa0*"):q),Y&&(U&&U.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var te=w&&L?"".concat(L,"-helper-text"):void 0,ae=q&&L?"".concat(L,"-label"):void 0,ie=_[Z],ne=r.createElement(ie,Object(i.a)({"aria-describedby":te,autoComplete:a,autoFocus:o,defaultValue:y,fullWidth:O,multiline:j,name:M,rows:G,rowsMax:z,type:K,value:$,id:L,inputRef:A,onBlur:I,onChange:T,onFocus:F,placeholder:B,inputProps:D},ee,P));return r.createElement(m.a,Object(i.a)({className:Object(l.a)(h.root,g),disabled:E,error:C,fullWidth:O,hiddenLabel:S,ref:t,required:V,color:b,variant:Z},X),q&&r.createElement(d.a,Object(i.a)({htmlFor:L,id:ae},x),q),Y?r.createElement(p.a,Object(i.a)({"aria-describedby":te,id:L,labelId:ae,value:$,input:ne},U),c):ne,w&&r.createElement(u.a,Object(i.a)({id:te},N),w))}));t.a=Object(h.a)({root:{}},{name:"MuiTextField"})(g)},343:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const i=[{label:"Wakefit",slug:"wakefit",role:["OC","RT","C"]},{label:"Affiliate",slug:"affiliate",role:["OC","RT","C"]},{label:"Affiliate FBA",slug:"affiliate_fba",role:["RT"]}],n=e=>i.filter(t=>t.role.includes(e))},360:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i=e=>{e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},361:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r}));const i={WFB:[{id:1,label:"Serene Flora",key:"FLORA"},{id:2,label:"Leafy Bliss",key:"LEAFY"},{id:3,label:"Dreamy Bubbles",key:"BUBBLES"}],WSMRC:[{id:4,label:"Serene Flora",key:"FLORA"},{id:5,label:"Leafy Bliss",key:"LEAFY"},{id:6,label:"Dreamy Bubbles",key:"BUBBLES"}],WSWB:[{id:1,label:"Auriga Sheesham Bed",key:"AUG"},{id:2,label:"Andromeda Sheesham Bed",key:"AMD"},{id:3,label:"Auriga Sheesham Bed with Storage",key:"SAUG"},{id:4,label:"Andromeda Sheesham Bed with Storage",key:"SAMD"}]},n={WMP:[{id:1,label:"White",key:""},{id:2,label:"Maroon",key:"MAROON"},{id:3,label:"Grey",key:"GREY"}],WFOCOVER:[{id:1,label:"Select",key:""},{id:2,label:"Grey",key:"G"},{id:3,label:"White",key:"W"}]},r={WSP:[{id:1,label:"Single Piece",key:"S"},{id:2,label:"Set of 2",key:"D"}],WFT:[{label:"HR Foam",key:"HR"},{label:"Memory Foam",key:"MF"},{label:"Super Soft Foam",key:"SF"},{label:"Cool Fit Foam Topper",key:"CF"}]}},405:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const i=[{id:1,label:"Call Not Connected (CNC)",slug:"Call not connected (CNC)",isActive:1,orderBy:1},{id:2,label:"Call Not Received (CNR)",slug:"Call not received (CNR)",isActive:1,orderBy:2},{id:3,label:"Customer Busy",slug:"Customer busy",isActive:1,orderBy:3},{id:4,label:"Hold",slug:"Hold",isActive:1,orderBy:4},{id:5,label:"Number Off",slug:"Number off",isActive:1,orderBy:6},{id:6,label:"Wrong Number",slug:"Wrong number",isActive:1,orderBy:7}],n=e=>{let t=i.filter(t=>t.id===e);return t.length>0?t[0]:{}}},406:function(e,t,a){},407:function(e,t,a){"use strict";var i=a(144);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=(0,i(a(186)).default)(n.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.default=r},408:function(e,t,a){"use strict";var i=a(144);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=(0,i(a(186)).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},411:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(31),l=a(139),s=a(21),o=a(16),c=a(302),d=a(342),m=a(299),u=a(408),p=a.n(u),h=a(407),_=a.n(h),g=a(142),f=a.n(g),b=(a(406),a(303)),y=a(357),v=a(56),E=a.n(v);class k extends i.Component{constructor(...e){super(...e),this.state={show:!1,pickupDate:null},this.toggle=e=>{let t=this.props.returnDetail,a=t.generated_pickup_date||t.pickup_date;this.setState({show:e,pickupDate:a})},this.handleChange=e=>{let t=e.target.value;this.setState({pickupDate:t})},this.submit=e=>{e.preventDefault();let t=this.state.pickupDate,a=this.props,i=a.rowInfo,n={pri_cart_id:a.returnDetail.id,affiliate_id:i.affiliate_id,pickup_date:t};console.log(n),this.props.updatePickupDetailsAction&&this.props.updatePickupDetailsAction(n)},this.getEditableInput=()=>{let e=this.state,t=e.show,a=e.pickupDate,i=Object(r.f)(),l=E()(i,"YYYY-MM-DD").add("days",1).format("YYYY-MM-DD");return n.a.createElement(b.a,{in:t},n.a.createElement(c.a,{className:"edit-content",elevation:3},n.a.createElement("div",null,n.a.createElement("b",null,"Modifying Pickup Date")),n.a.createElement(d.a,{label:"Pickup Date",type:"date",inputProps:{min:l},onChange:this.handleChange,value:a,error:!a,helperText:!a&&"Required!",fullWidth:!0}),n.a.createElement("div",null,n.a.createElement(m.a,{"aria-label":"edit",onClick:this.submit},n.a.createElement(_.a,{fontSize:"small"})),n.a.createElement(m.a,{"aria-label":"edit",onClick:()=>this.toggle(!1)},n.a.createElement(f.a,{fontSize:"small"})))))}}render(){let e=this.props.returnDetail,t=this.state.show;return n.a.createElement("div",{className:"pickupdate-edit"},t?this.getEditableInput():n.a.createElement("div",{className:"pickup-text-container"},n.a.createElement("div",null,n.a.createElement("b",null,"Pickup Date: "),e.generated_pickup_date||e.pickup_date),!e.shipped_timestamp&&n.a.createElement(m.a,{"aria-label":"edit",onClick:()=>this.toggle(!0)},n.a.createElement(p.a,{fontSize:"small"}))))}}var C=Object(s.b)((e,t)=>({userDetails:e.userDetails}),e=>Object(o.b)({updatePickupDetailsAction:y.m},e))(k),N=a(137);class R extends i.Component{render(){let e=this.props,t=e.rowInfo,a=e.returnDocket;return a&&a.docket_number&&t&&t.preferred_shipping?n.a.createElement("div",{className:"custom-badge",onClick:()=>this.props.TrackOrderDetails({docket_number:a.docket_number,shipping_id:t.preferred_shipping})},"Track Order"):""}}var O=Object(s.b)((e,t)=>({userDetails:e.userDetails}),e=>Object(o.b)({TrackOrderDetails:N.a},e))(R);a.d(t,"a",(function(){return S}));const w="https://www.wakefit.co/",S=e=>{let t=Array.isArray(e.return_detail)?e.return_detail:[];return n.a.createElement("div",null,t.map((a,i)=>n.a.createElement("div",{key:"return-docket-".concat(i)},n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Pickup Status :")," ",(e=>{let t=Object(l.d)().filter(t=>t.id===e);return t.length>0?t[0]:{}})(e.reverse_pickup_status).label),n.a.createElement(C,{rowInfo:e,returnDetail:a}),0!==a.affiliate_id&&n.a.createElement("div",null,n.a.createElement("b",null,"Email:")," ",e.email_address),n.a.createElement("div",null,n.a.createElement("b",null,"Pickup Qty:")," ",a.item_quantity),a.docket_name&&n.a.createElement("div",null,n.a.createElement("b",null,"Shipping Partner :")," ",a.docket_name),a.docket_number&&n.a.createElement("div",null,n.a.createElement("b",null,"Docket Number :")," ",a.docket_number),n.a.createElement(O,{returnDocket:a,rowInfo:e}),a.docket_name&&"cityxfer"!==a.docket_name.toLocaleLowerCase()&&a.docket_number&&n.a.createElement("div",null,n.a.createElement("a",{className:"custom-badge",rel:"noopener noreferrer",target:"_blank",href:"".concat(w,"/backoffice/images/docket_df/DOCK_").concat(a.docket_number,".pdf"),download:!0},"Download Docket"),n.a.createElement("a",{className:"custom-badge",rel:"noopener noreferrer",target:"_blank",href:"".concat(w,"/backoffice/images/docket_df/DECL_").concat(a.docket_number,".pdf"),download:!0},"Download Declaration")),n.a.createElement("div",null,n.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",a.created_by_name||a.created_by),n.a.createElement("div",null,n.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",Object(r.c)(a.created_timestamp)),i<t.length-1&&n.a.createElement("hr",null))))}},625:function(e,t,a){},626:function(e,t,a){},627:function(e,t,a){},628:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){},631:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){},678:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(21),l=a(16),s=(a(625),a(136)),o=(a(184),a(626),a(312)),c=a(9),d=(a(627),a(32)),m=a(317),u=a(138),p=a(115),h=a(29),_=a(322),g=a(141),f=a(2),b=a(331),y=a(7),v=(a(1),a(8)),E=a(12),k=i.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.row,l=void 0!==r&&r,s=Object(y.a)(e,["classes","className","row"]);return i.createElement("div",Object(f.a)({className:Object(v.a)(a.root,n,l&&a.row),ref:t},s))})),C=Object(E.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(k),N=a(23),R=a(329);var O=i.createContext(),w=i.forwardRef((function(e,t){var a=e.actions,n=e.children,r=e.name,l=e.value,s=e.onChange,o=Object(y.a)(e,["actions","children","name","value","onChange"]),c=i.useRef(null),d=Object(R.a)({controlled:l,default:e.defaultValue,name:"RadioGroup"}),m=Object(b.a)(d,2),u=m[0],p=m[1];i.useImperativeHandle(a,(function(){return{focus:function(){var e=c.current.querySelector("input:not(:disabled):checked");e||(e=c.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var h=Object(N.a)(t,c),_=i.useState(),g=_[0],v=_[1],E=r||g;return i.useEffect((function(){v("mui-radiogroup-".concat(Math.round(1e5*Math.random())))}),[]),i.createElement(O.Provider,{value:{name:E,onChange:function(e){p(e.target.value),s&&s(e,e.target.value)},value:u}},i.createElement(C,Object(f.a)({role:"radiogroup",ref:h},o),n))})),S=a(612),L=a(377),x=a(314),D=Object(x.a)(i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),P=Object(x.a)(i.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var A=Object(E.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,a=e.classes,n=e.fontSize;return i.createElement("div",{className:Object(v.a)(a.root,t&&a.checked)},i.createElement(D,{fontSize:n}),i.createElement(P,{fontSize:n,className:a.layer}))})),q=a(48),W=a(34),j=a(80);var M=i.createElement(A,{checked:!0}),I=i.createElement(A,null),T=i.forwardRef((function(e,t){var a=e.checked,n=e.classes,r=e.color,l=void 0===r?"secondary":r,s=e.name,o=e.onChange,c=e.size,d=void 0===c?"medium":c,m=Object(y.a)(e,["checked","classes","color","name","onChange","size"]),u=i.useContext(O),p=a,h=Object(j.a)(o,u&&u.onChange),_=s;return u&&("undefined"===typeof p&&(p=u.value===e.value),"undefined"===typeof _&&(_=u.name)),i.createElement(L.a,Object(f.a)({color:l,type:"radio",icon:i.cloneElement(I,{fontSize:"small"===d?"small":"default"}),checkedIcon:i.cloneElement(M,{fontSize:"small"===d?"small":"default"}),classes:{root:Object(v.a)(n.root,n["color".concat(Object(W.a)(l))]),checked:n.checked,disabled:n.disabled},name:_,checked:p,onChange:h,ref:t},m))})),F=Object(E.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(q.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(q.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(T),B=a(673),H=a(143),V=a(11),G=a(323);let z=[{name:"Topper",skucode:"WFT",products:[{name:"HR Foam",skucode:"WFTHR"},{name:"Memory Foam",skucode:"WFTMF"},{name:"Super Soft Foam",skucode:"WFTSF"},{name:"Cool Fit Foam Topper",skucode:"WFTCF"}]},{name:"Outer Cover",skucode:"WFOCOVER",products:[{name:"Grey Cover",skucode:"WFOCOVERG"},{name:"White Cover",skucode:"WFOCOVERW"}]},{name:"Sleeping Pillow (Height Adjustable)",skucode:"WSP",products:[{name:"Single Piece",skucode:"WSPS"},{name:"Set of 2",skucode:"WSPD"}]},{name:"Matress Protectors",skucode:"WMP",products:[{name:"White",skucode:"WMP"},{name:"Maroon",skucode:"WMPMAROON"},{name:"Grey",skucode:"WMPGREY"}]}];class Q extends i.Component{constructor(...e){super(...e),this.state={products:[],data:{length:"",breath:"",height:"",model:"",item_sku:"",item_quantity:"",item_price:"",payment_type:"",payment_via:"",payment_ref_id:""},maxQty:0,stock:null,stockData:"notvalid",note:"",errors:{}},this.getProductDetails=()=>{let e=this.state,t=e.data,a=e.errors,i=e.maxQty,n=e.stockData,r=this.props.rowInfo.original;console.log("Getting...",this.state);let l={item_sku:Object(g.e)(t.item_sku),item_dimensions:t.item_dimensions?t.item_dimensions:"",affiliate_id:r.affiliate_id||0,request_type:1};this.setState({stockData:"loading"},()=>{Object(V.ab)(l).then(e=>{console.log(e),t.item_price=e.data&&e.data.item_price&&e.data.item_price.price,a.item_price="",a.note="",0===Number(e.data.stock)?(i=0,a.note="Out of Stock",n="notvalid"):Number(e.data.stock)<20?(i=Number(e.data.stock),n="valid"):Number(e.data.stock)>=20&&(i=20,n="valid"),setTimeout(()=>this.setState({data:t,errors:a,maxQty:i,stockData:n,stock:e.data}),1e3)}).catch(e=>{console.log(e.response),t.item_price="",a.note=e.response&&e.response.data&&e.response.data.message,setTimeout(()=>this.setState({data:t,errors:a,maxQty:20,stockData:"notvalid"}),1e3)})})},this.getValidation=e=>{e.preventDefault();let t=this.state,a=t.data,i=t.errors;i.note="",a.accessory&&!a.accessory.includes("WFB")?(i.accessory="",a.product?(i.product="","WSP"!==a.accessory?(i.length=a.length?"":"Required!",i.breath=a.breath?"":"Required!","WMP"!==a.accessory&&(i.height=a.height?"":"Required!")):(i.length="",i.breath="",i.height="")):i.product="Required!"):a.accessory||(i.accessory="Required!"),"valid"===this.state.stockData&&(a.item_quantity?i.item_quantity="":i.item_quantity="Required!",0!==Number(a.item_price)&&(i.item_price="",a.payment_type?(i.payment_type="","COD"!==a.payment_type&&a.payment_via?(i.payment_via="",a.payment_ref_id?i.payment_ref_id="":i.payment_ref_id="Required!"):"COD"!==a.payment_type&&(i.payment_via="Required!")):i.payment_type="Required!")),this.setState({errors:i},()=>{console.log(this.state);let e=this.state.errors;e&&Object.keys(e).length>0&&!Object.keys(e).some(t=>""!==e[t])&&(console.log("Call API"),"valid"===this.state.stockData?(console.log("Issue Accessary..."),this.submitAccesory()):this.getProductDetails())})},this.handleChange=(e,t)=>{let a=e.target.name,i=e.target.value,n=t.original,r=this.state,l=r.data,s=r.errors,o=r.maxQty,c=r.stock,d=r.stockData,m=r.note;switch(a){case"accessory":if(i?(l[a]=i,s[a]=""):(l[a]="",s[a]="Required!"),l.product="",l.item_sku=i,l.item_dimensions="",l.item_quantity=n.item_quantity,l.length="",l.breath="",l.height="",l.model="",o=0,c=null,d="notvalid",s.note="",i&&!i.includes("WSP")&&n.item_dimensions){let e=n.addon_dimensions||n.item_dimensions,t=e.toLocaleLowerCase().replace(" inch","").split("x");l.item_dimensions=e,l.length=t.length>0?t[0]:"",l.breath=t.length>1?t[1]:"",l.height=t.length>2&&!i.includes("WMP")?t[2]:"",l.model=""}if(i.includes("WFB")||0===i)this.setState({products:[]});else{let e=z.filter(e=>e.skucode===i)[0];this.setState({products:e?e.products:[]})}i&&i.includes("WFB")&&(l.item_sku=n.item_sku+"-COVER",l.item_dimensions=n.item_dimensions);break;case"product":i?(l[a]=i,s[a]=""):(l[a]="",s[a]="Required!"),"WSP"!==l.accessory?l.item_dimensions="".concat(l.length,"x").concat(l.breath).concat(l.height?"x"+l.height:""," inch"):l.item_dimensions="",l.item_sku=(l.product||l.accessory)+l.length+l.breath+l.height+l.model||"",o=0,c=null,d="notvalid",s.note="";break;case"length":case"breath":case"height":""!==i&&h.c.test(i)?(l[a]=i,s[a]=""):i||(l[a]="",s[a]="Required!"),l.item_dimensions="".concat(l.length,"x").concat(l.breath).concat(l.height?"x"+l.height:""," inch"),l.item_sku=(l.product||l.accessory)+l.length+l.breath+l.height+l.model||"",o=0,c=null,d="notvalid",s.note="";break;case"item_quantity":h.g.test(i)?Number(i)>0?(l[a]=i,s[a]=""):0===Number(i)&&(l[a]=i,s[a]="Should not be 0"):i||(l[a]="",s[a]="Required!");break;case"payment_type":l[a]===i?l[a]="":l[a]=i,l.payment_via="",l.payment_ref_id="";break;case"item_price":l[a]=h.b.test(i)?i:""!==i?l[a]:"",s.payment_type="",s.payment_via="",s.payment_ref_id="";break;default:l[a]=i}this.setState({data:l,errors:s,maxQty:o,stock:c,stockData:d,note:m},()=>console.log(this.state))},this.submitAccesory=()=>{let e=this.state.data,t=this.props.rowInfo.original,a={};a.item_sku=Object(g.e)(e.item_sku),a.item_dimensions=!e.item_sku.includes("WSP")&&e.item_dimensions?e.item_dimensions:"",a.item_quantity=e.item_quantity,a.item_price=Number(Object(g.d)(e.item_price)),a.cart_primary_id=t.id,a.affiliate_id=Number(e.affiliate_id||0),a.action_type=3,a.payment_type=e.payment_type,a.payment_via=e.payment_via,a.payment_ref_id=e.payment_ref_id,a.created_by=Object(_.a)(this.props.userDetails),a.created_by_id=this.props.userDetails.login_id,console.log("payload:",a),this.props.submitAccessoryRequest(a)}}render(){let e=this.props.rowInfo,t=this.state,a=t.products,i=t.data,r=t.errors,l=e.original;if(3===l.rnr_resolution_type){let t=l.accessories_detail,s=Object(u.b)(t.orm_order_status);return n.a.createElement("div",{className:"accessory-container",id:"accessory-cart-id-".concat(l.id)},0===Object.keys(t).length?n.a.createElement("div",{className:"accessory-form"},r.note&&n.a.createElement(G.a,{type:"error",message:r.note,toggle:!0,callbackOnClose:()=>this.setState({errors:Object(c.a)({},r,{note:""})})}),n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Choose Accessorie:"),n.a.createElement("select",{name:"accessory",className:"custom-dropdown",onChange:t=>this.handleChange(t,e),value:i.accessory},n.a.createElement("option",{key:"accessory-none",value:""},"Select"),z.map((e,t)=>n.a.createElement("option",{key:"accessory-".concat(t),value:e.skucode},e.name)),l.item_sku&&l.item_sku.includes("WFB")&&n.a.createElement("option",{key:"pillow-cover",value:l.item_sku},"Pillow Cover")),r.accessory&&n.a.createElement("div",{className:"error-text"},r.accessory)),a.length>0&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Product SKU's:"),n.a.createElement("select",{name:"product",className:"custom-dropdown",onChange:t=>this.handleChange(t,e),value:i.product||0},n.a.createElement("option",{key:"product-none",value:""},"Select"),a.map((e,t)=>n.a.createElement("option",{key:"product-".concat(t),value:e.skucode},e.name))),r.product&&n.a.createElement("div",{className:"error-text"},r.product)),i.product&&"WSP"!==i.accessory&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Dimensions:"),n.a.createElement("div",{className:"sku-container"},n.a.createElement("div",null,n.a.createElement("input",{name:"length",className:"input-field input-dimension",value:i.length,onChange:t=>this.handleChange(t,e),placeholder:"L"}),r.length&&n.a.createElement("div",{className:"error-text"},r.length)),n.a.createElement("div",null,n.a.createElement("input",{name:"breath",className:"input-field input-dimension",value:i.breath,onChange:t=>this.handleChange(t,e),placeholder:"B"}),r.breath&&n.a.createElement("div",{className:"error-text"},r.breath)),"WMP"!==i.accessory&&n.a.createElement("div",null,n.a.createElement("input",{name:"height",className:"input-field input-dimension",value:i.height,onChange:t=>this.handleChange(t,e),placeholder:"H"}),r.height&&n.a.createElement("div",{className:"error-text"},r.height)))),"valid"===this.state.stockData&&n.a.createElement("div",null,n.a.createElement("div",{className:"qty-amt-container"},n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Quantity"),n.a.createElement("input",{name:"item_quantity",className:"input-field",value:i.item_quantity,onChange:t=>this.handleChange(t,e),placeholder:"Quantity"}),r.item_quantity&&n.a.createElement("div",{className:"error-text"},r.item_quantity)),n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Amount"),n.a.createElement("input",{name:"item_price",className:"input-field",value:i.item_price,onChange:t=>this.handleChange(t,e),placeholder:"Amount"}))),l.cod_avaibility&&"no"===String(l.cod_avaibility).toLocaleLowerCase()&&n.a.createElement("div",{className:"break-word comment-color"},"Note: COD is not available at this Given PIN Code."),n.a.createElement(w,{"aria-label":"payment-type",name:"payment_type",row:!0,value:i.payment_type,onChange:t=>this.handleChange(t,e)},(!l.cod_avaibility||l.cod_avaibility&&"yes"===String(l.cod_avaibility).toLocaleLowerCase())&&n.a.createElement(S.a,{value:"COD",control:n.a.createElement(F,{color:"primary"}),label:"COD"}),n.a.createElement(S.a,{value:"Online",control:n.a.createElement(F,{color:"primary"}),label:"Online"})),r.payment_type&&n.a.createElement("div",{className:"error-text"},r.payment_type),"Online"===i.payment_type&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Payment Via"),n.a.createElement("div",{className:"payment-section"},n.a.createElement("div",null,n.a.createElement("select",{name:"payment_via",className:"custom-dropdown",onChange:t=>this.handleChange(t,e),value:i.payment_via},n.a.createElement("option",{value:""},"Select Source"),Object(H.b)("accessary").map(e=>n.a.createElement("option",null,e.name))),r.payment_via&&n.a.createElement("div",{className:"error-text"},r.payment_via)),n.a.createElement("div",null,n.a.createElement("input",{name:"payment_ref_id",className:"input-field",placeholder:"Ref Id",onChange:t=>this.handleChange(t,e),value:i.payment_ref_id}),r.payment_ref_id&&n.a.createElement("div",{className:"error-text"},r.payment_ref_id))))),"loading"!==this.state.stockData?n.a.createElement(d.a,{label:"notvalid"===this.state.stockData?"Check for Availability":"Issue Accessory",onClick:this.getValidation}):n.a.createElement(B.a,null)):n.a.createElement("div",{className:"accessory-desc"},n.a.createElement("b",{className:"form-title"},"Accessories Details:"),n.a.createElement("div",{className:"break-word"},Object(m.c)(t.item_sku||"")),n.a.createElement("div",null,n.a.createElement("b",null,"Dimensions :")," ",t.item_dimensions),n.a.createElement("div",null,n.a.createElement("b",null,"SKU :")," ",t.item_sku),n.a.createElement("div",null,n.a.createElement("b",null,"Qty :")," ",t.item_quantity),n.a.createElement("div",null,n.a.createElement("b",null,"Price :")," ",Object(p.a)(t.item_price)),t.coupon_flat_discount&&n.a.createElement("div",null,n.a.createElement("b",null,"Discount :")," ",Object(p.a)(t.coupon_flat_discount)),n.a.createElement("div",null,n.a.createElement("b",null,"Total :")," INR ",Object(p.a)(t.item_price)," * ",t.item_quantity," ",t.coupon_flat_discount&&" - ".concat(Object(p.a)(t.coupon_flat_discount))," = ",Object(p.a)(Number(t.item_price)*Number(t.item_quantity)-Number(t.coupon_flat_discount||0))),n.a.createElement("div",null,n.a.createElement("b",null,"Order Status :")," ",s.label)))}return n.a.createElement("div",null)}}const Y=(e,t)=>String(t._original.accessories_detail.orm_order_status&&Object(u.b)(t._original.accessories_detail.orm_order_status).label).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.accessories_detail.item_sku&&Object(m.c)(t._original.accessories_detail.item_sku)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.accessories_detail.item_sku).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.accessories_detail.item_dimensions).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.accessories_detail.item_quantity).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.accessories_detail.item_price).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t.accessories_detail[e.id]).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());Q.defaultProps={};var U=Q,K=a(356),$=a(358),J=a(309),Z=a(338),X=a(359),ee=(a(628),a(139)),te=a(31);class ae extends i.Component{constructor(e){super(e),this.handleReturnResolutionType=(e,t)=>{let a=t.original,i=this.props.userDetails,n=e.target.name,r=e.target.value,l=this.state.returnResolution;if(console.log(n,r,t),l.index===t.index)switch(n){case"rnr_resolution_type":l[n]=Number(r);break;default:l[n]=r}else l.index=t.index,l.cart_primary_id=a.id,l.affiliate_id=Number(a.affiliate_id||0),l.rnr_resolution_type=a.rnr_resolution_type,l.action_comments=a.action_comments,l.created_by=Object(_.a)(i),l.created_by_id=i.login_id,l[n]=r;this.setState({returnResolution:l},()=>console.log(this.state))},this.state={returnResolution:{}}}render(){let e=this.props.rowInfo,t=this.props.rowInfo.original,a=Object(ee.f)(),i=this.state.returnResolution;return n.a.createElement("div",{className:"returns-resolution-type"},0===t.rnr_resolution_type?n.a.createElement("div",{className:"returns-resolution-form"},n.a.createElement("div",{className:"fields"},n.a.createElement("select",{className:"custom-dropdown",name:"rnr_resolution_type",onChange:t=>this.handleReturnResolutionType(t,e)},n.a.createElement("option",{key:"returns-status-0",value:0},"Select Resolution Type"),a.map((e,t)=>n.a.createElement("option",{key:"returns-status-".concat(e.id),value:e.id},e.name)))),n.a.createElement("textarea",{className:"fields input-field custom-text-area",name:"action_comments",rows:5,placeholder:"Comments",onChange:t=>this.handleReturnResolutionType(t,e)}),n.a.createElement(d.a,{label:"Save",onClick:()=>this.props.returnReplacementApprove(i)})):n.a.createElement("div",{className:"returns-resolution-desc"},n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Resolution Type:")," ",Object(ee.g)(t.rnr_resolution_type).name),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Comments:")," ",t.cet_returns_request_action_comments),n.a.createElement("div",{className:"break-word"},n.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",t.return_resolved_by),n.a.createElement("div",{className:"break-word"},n.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",Object(te.c)(t.return_resolved_at))))}}const ie=(e,t)=>String(Object(ee.g)(t._original.rnr_resolution_type).name).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.cet_returns_request_action_comments).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Object(te.c)(t._original.cet_assigned_timestamp)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Object(te.c)(t._original.return_detail.created_by)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());ae.defaultProps={};var ne=ae;a(629);class re extends i.Component{render(){let e=this.props.rowInfo.original,t=Object(ee.a)(e.return_reason_id);return n.a.createElement("div",{className:"customer-return-request-details"},n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Type:")," Return Request"),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Reason:")," ",t.name),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Comments:")," ",e.return_comments),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Attachments:"),e.return_attachments&&e.return_attachments.split(",").map((e,t)=>n.a.createElement("div",{key:"Attachment-".concat(t),className:"attachment-container"},n.a.createElement("a",{className:"custom-badge",rel:"noopener noreferrer",target:"_blank",href:"".concat("http://api.wakefit.asia/","static/rnr_attachments/").concat(e)},"Attachment ",t+1)))),n.a.createElement("div",{className:"break-word"},n.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",e.return_created_by),n.a.createElement("div",{className:"break-word"},n.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",Object(te.c)(e.return_created_at)))}}const le=(e,t)=>String(Object(ee.a)(t._original.return_reason_id).name).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.return_comments).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Object(te.c)(t._original.return_requested_on)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());re.defaultProps={};var se=re,oe=(a(630),a(411));class ce extends i.Component{constructor(...e){super(...e),this.state={packaging:{length:"",breath:"",height:"",model:""},pickupData:{},recreateData:{},errors:{}},this.submitPackagingDetails=e=>{e.preventDefault();let t=this.state.packaging,a={action_type:4};a.cart_primary_id=t.cart_primary_id,a.affiliate_id=t.affiliate_id,a.created_by=Object(_.a)(this.props.userDetails),a.created_by_id=t.created_by_id,"yes"===t.isRequired?(a.is_required=!0,a.item_sku=Object(g.e)(t.item_sku),a.item_dimensions=t.item_dimensions,a.item_quantity=t.item_quantity):"no"===t.isRequired&&(a.is_required=!1),this.props.sendPackagingAction(a)},this.submitPickupDetails=e=>{e.preventDefault();let t=this.state.pickupData,a=this.props.userDetails,i={action_type:1};i.expected_pickup_date=t.expected_pickup_date,i.item_quantity=t.item_quantity,i.cart_primary_id=t.cart_primary_id,i.affiliate_id=t.affiliate_id,i.created_by=Object(_.a)(this.props.userDetails),i.created_by_id=a.login_id,i.email=t.email,this.props.returnPickupAction(i)},this.onPickupChange=(e,t)=>{let a=e.target.name,i=e.target.value,n=this.state,r=n.pickupData,l=n.errors;r.index===t.index?"email"===a?i?h.d.test(i)?(r[a]=i,l[a]=""):h.d.test(i)||(r[a]=i,l[a]="Invalid Email Id!"):(r[a]=i,l[a]="Email is Required!"):r[a]=i:(r.index=t.index,r.affiliate_id=Number(t.original.affiliate_id||0),r.cart_primary_id=t.original.id,r.item_quantity=1,r.expected_pickup_date="",r[a]="email"===a?"":i),this.setState({pickupData:r,errors:l})},this.onPackagingChange=(e,t)=>{let a=t.original,i=this.props.userDetails,n=e.target.name,r=e.target.value,l=this.state.packaging;if(l.index===t.index)switch(n){case"packagingRequired":if("yes"===r){if(l.isRequired="yes",l.is_required=!0,l.item_dimensions="",l.item_sku="",l.item_quantity=1,l.length="",l.breath="",l.height="",l.model="",a.item_dimensions||a.addon_dimensions){let e=a.addon_dimensions||a.item_dimensions,t=e.toLocaleLowerCase().replace(" inch","").split("x");l.item_dimensions=e,l.length=t.length>0?t[0]:"",l.breath=t.length>1?t[1]:"",l.height=t.length>2?t[2]:""}l.item_sku="WPACK"+l.length+l.breath+l.height}else"no"===r&&(l.isRequired="no",l.is_required=!1,l.item_dimensions="",l.item_sku="",l.item_quantity="",l.length=l.breath=l.height="");break;case"item_quantity":l[n]=""!==r?h.g.test(r)?r:l[n]:"";break;case"length":case"breath":case"height":l[n]=""!==r?h.c.test(r)?r:l[n]:"",l.item_dimensions="".concat(l.length,"x").concat(l.breath).concat(l.height?"x"+l.height:""," inch"),l.item_sku="WPACK"+l.length+l.breath+l.height+l.model;break;default:l[n]=r}else if(l.index=t.index,l[n]=r,l.affiliate_id=Number(t.original.affiliate_id||0),l.cart_primary_id=t.original.id,l.created_by=i.name,l.created_by_id=i.login_id,"packagingRequired"===n&&"yes"===r){if(l.isRequired="yes",l.is_required=!0,l.item_dimensions="",l.item_sku="",l.item_quantity=a.addon_item_quantity||a.item_quantity,a.item_dimensions||a.addon_dimensions){let e=a.addon_dimensions||a.item_dimensions,t=e.toLocaleLowerCase().replace(" inch","").split("x");l.item_dimensions=e,l.length=t.length>0?t[0]:"",l.breath=t.length>1?t[1]:"",l.height=t.length>2?t[2]:""}l.item_sku="WPACK"+l.length+l.breath+l.height}else"no"===r&&(l.isRequired="no",l.is_required=!1,l.item_dimensions="",l.item_sku="",l.item_quantity="",l.length=l.breath=l.height="");this.setState({packaging:l})},this.onRecreatePickupChange=(e,t)=>{let a=e.target.name,i=e.target.value,n=this.state.recreateData;n.index===t.index||(n.index=t.index,n.affiliate_id=Number(t.original.affiliate_id||0),n.cart_id=t.original.id,n.recreate_pickup_date=""),n[a]=i,this.setState({recreateData:n},()=>console.log(this.state.recreateData))},this.submitRecreatePickup=e=>{e.preventDefault();let t=this.state.recreateData,a={};a.pickup_date=t.recreate_pickup_date,a.cart_id=t.cart_id,a.affiliate_id=t.affiliate_id,console.log(a),this.props.recreatePickupAction(a)},this.getRefunDocketStatus=e=>{let t=Object(ee.d)().filter(t=>t.id===e);return t.length>0?t[0]:{}}}render(){let e=this.props.rowInfo,t=this.props.rowInfo.original,a=t.packaging_detail,i=this.state.errors;if(1===t.rnr_resolution_type||2===t.rnr_resolution_type||5===t.rnr_resolution_type){let r=[],l=Object(te.f)();l=Object(te.a)(l,2);let s=this.state,o=s.packaging,c=s.pickupData,m=s.recreateData;for(let e=0;e<10;e++)r.push(e);return n.a.createElement("div",{className:"packaging-details"},t.rts_timestamp||[3].includes(e.order_type)||!t.item_sku.toLocaleLowerCase().includes("wswb")&&["bangalore","bengaluru"].includes(t.city.toLocaleLowerCase())?n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"NOTE:")," This is an ",n.a.createElement("b",null,3===e.order_type?"Accessory":t.rts_timestamp?"RTS":["bangalore","bengaluru"].includes(t.city.toLocaleLowerCase())&&"NAMMA"," order"),", we don't need to create packaging material ",t.rts_timestamp&&"and Pickup also not required.",n.a.createElement("hr",null)):0===t.package_ref_id&&0===Object.keys(t.packaging_detail).length&&0===t.return_detail.length&&n.a.createElement("div",null,n.a.createElement("b",null,"Is Packaging Material Required?"),n.a.createElement("div",{className:"radio-button-container"},n.a.createElement("div",{className:"radio-btn"},n.a.createElement("input",{name:"packagingRequired",id:"packing-yes-cart-id-".concat(t.id),type:"radio",onChange:t=>this.onPackagingChange(t,e),checked:o.index===e.index&&"yes"===o.isRequired,value:"yes"}),n.a.createElement("label",{htmlFor:"packing-yes-cart-id-".concat(t.id)},"Yes")),n.a.createElement("div",{className:"radio-btn"},n.a.createElement("input",{name:"packagingRequired",id:"packing-no-cart-id".concat(t.id),type:"radio",onChange:t=>this.onPackagingChange(t,e),checked:o.index===e.index&&"no"===o.isRequired,value:"no"}),n.a.createElement("label",{htmlFor:"packing-no-cart-id".concat(t.id)},"No"))),n.a.createElement("hr",null),o.index===e.index&&"yes"===o.isRequired&&n.a.createElement("div",{className:"packaging-required"},n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Dimensions"),n.a.createElement("div",{className:"sku-container"},n.a.createElement("input",{className:"input-field input-dimension",name:"length",value:o.index===e.index&&o.length,onChange:t=>this.onPackagingChange(t,e),placeholder:"L"}),n.a.createElement("input",{className:"input-field input-dimension",name:"breath",value:o.index===e.index&&o.breath,onChange:t=>this.onPackagingChange(t,e),placeholder:"B"}),n.a.createElement("input",{className:"input-field input-dimension",name:"height",value:o.index===e.index&&o.height,onChange:t=>this.onPackagingChange(t,e),placeholder:"H"}))),n.a.createElement("b",{className:"field-container"},"Item Quantity to Return:"),n.a.createElement("div",{className:"field-container"},n.a.createElement("input",{className:"input-field",name:"item_quantity",onChange:t=>this.onPackagingChange(t,e),value:o.index===e.index&&o.item_quantity}))),n.a.createElement("div",{className:"packge-button-container"},n.a.createElement(d.a,{label:"yes"===o.isRequired?"Send Packaging":"Submit",onClick:this.submitPackagingDetails})),"yes"===o.isRequired&&n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Note: "),"Once the packaging material is deliverd you will have an option to schedule the return pickup."))),0!==t.package_ref_id&&Object.keys(t.packaging_detail).length>0&&n.a.createElement("div",null,n.a.createElement("b",null,"Packaging Details:"),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Status:")," ",Object(u.b)(a.orm_order_status).label),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Dimensions:"),a.item_dimensions),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"SKU:")," ",a.item_sku),n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Qty:")," ",a.item_quantity),n.a.createElement("hr",null),!a.delivered_timestamp&&0===t.return_detail.length&&n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Note: "),"Once the packaging material is deliverd you will have an option to schedule the return pickup.")),!t.rts_timestamp&&-1===t.package_ref_id&&n.a.createElement("div",{className:"break-word"},n.a.createElement("b",null,"Note:")," We marked as Packaging material Not required!"),!t.rts_timestamp&&(([3].includes(e.order_type)||!t.item_sku.toLocaleLowerCase().includes("wswb")&&["bangalore","bengaluru"].includes(t.city.toLocaleLowerCase()))&&0===t.return_detail.length||a.delivered_timestamp&&0===t.return_detail.length||-1===t.package_ref_id&&0===t.return_detail.length)?n.a.createElement("div",{className:"return-pickup"},n.a.createElement("b",{className:"field-container"},"Return Pickup Details:"),n.a.createElement("div",{className:"field-container"},n.a.createElement("input",{className:"input-field",name:"expected_pickup_date",type:"date",min:l,allowInputToggle:!0,onChange:t=>this.onPickupChange(t,e),value:c.expected_pickup_date})),n.a.createElement("b",{className:"field-container"},"Quantity"),n.a.createElement("div",{className:"field-container"},n.a.createElement("input",{className:"input-field",name:"item_quantity",onChange:t=>this.onPickupChange(t,e),value:c.item_quantity})),![0,"0"].includes(t.affiliate_id)&&n.a.createElement("div",null,n.a.createElement("b",{className:"field-container"},"Customer Email"),n.a.createElement("div",{className:"field-container"},n.a.createElement("input",{className:"input-field",name:"email",onChange:t=>this.onPickupChange(t,e),value:c.email})),i.email&&n.a.createElement("div",{className:"error-text"},i.email)),n.a.createElement(d.a,{label:"Schedule Return Pickup",onClick:this.submitPickupDetails})):t&&Array.isArray(t.return_detail)&&t.return_detail.length>0&&Object(oe.a)(t),4===t.reverse_pickup_status&&n.a.createElement("div",{className:"recreate-return-pickup"},n.a.createElement("b",{className:"field-container"},"Reschedule Pickup Details:"),n.a.createElement("div",{className:"field-container"},n.a.createElement("input",{className:"input-field",name:"recreate_pickup_date",type:"date",min:l,allowInputToggle:!0,onChange:t=>this.onRecreatePickupChange(t,e),value:m.recreate_pickup_date})),n.a.createElement(d.a,{label:"Reschedule Return Pickup",onClick:this.submitRecreatePickup})))}return n.a.createElement("div",null)}}const de=(e,t)=>String(Object(u.b)(t._original.packaging_detail.orm_order_status).label).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.packaging_detail.item_dimensions).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.packaging_detail.item_sku).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.packaging_detail.item_quantity).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());ce.defaultProps={};var me=ce,ue=(a(631),a(405)),pe=a(361),he=a(660);const _e=["WDCM","WOMFM","WHRFM","WFT","WFOCOVER"],ge=["WFB","WMP","WSWB"];class fe extends i.Component{constructor(e){super(e),this.getProductDetails=()=>{let e=this.state,t=e.replacementCart,a=e.errors,i=e.maxQty,n=e.stockData,r=this.props.rowInfo.original;console.log("Getting...",this.state);let l={item_sku:Object(g.e)(t.item_sku),item_dimensions:t.item_dimensions?t.item_dimensions:"",affiliate_id:r.affiliate_id||0,cart_pri_id:r.id,request_type:3};this.setState({stockData:"loading"},()=>{Object(V.ab)(l).then(e=>{console.log(e),t.item_price=e.data&&e.data.item_price&&e.data.item_price.price,e.data&&e.data.item_price&&e.data.item_price.extra_price&&(t.extra_or_refund="extra payment",t.extra_price=e.data&&e.data.item_price&&e.data.item_price.extra_price),a.item_price="",a.note="",0===Number(e.data.stock)?(i=0,a.note="Out of Stock",n="notvalid"):Number(e.data.stock)<20?(i=Number(e.data.stock),n="valid"):Number(e.data.stock)>=20&&(i=20,n="valid"),setTimeout(()=>this.setState({replacementCart:t,errors:a,maxQty:i,stockData:n,stock:e.data}),1e3)}).catch(e=>{console.log(e.response),t.item_price="",a.note=e.response&&e.response.data&&e.response.data.message,setTimeout(()=>this.setState({replacementCart:t,errors:a,maxQty:20,stockData:"notvalid"}),1e3)})})},this.handleExtraSpecChange=(e,t)=>{let a=this.state.replacementCart;if("extra_specifications"===e.target.name)if(a.extra_specifications.includes(t)){let e=a.extra_specifications.split(","),i=[];for(let a=0;a<e.length;a++)e[a]!==t&&i.push(e[a]);a.extra_specifications=i.sort().join(",")}else a.extra_specifications=0===a.extra_specifications.length?t:a.extra_specifications+","+t,a.extra_specifications=a.extra_specifications.split(",").sort().join(",");this.setState({replacementCart:a},()=>{console.log(this.state)})},this.getExtraSpecifications=()=>{let e=this.state.replacementCart;return n.a.createElement("div",{className:"extra-spec-container"},n.a.createElement("div",{className:"extra-spec-input-container checkbox-container"},n.a.createElement(S.a,{control:n.a.createElement(he.a,{name:"extra_specifications",onChange:e=>this.handleExtraSpecChange(e,"2"),checked:e.extra_specifications.includes("2"),value:2,color:"primary"}),label:"Grey Cover"}),n.a.createElement(S.a,{control:n.a.createElement(he.a,{name:"extra_specifications",onChange:e=>this.handleExtraSpecChange(e,"3"),checked:e.extra_specifications.includes("3"),value:3,color:"primary"}),label:"Special"})))},this.handleReplacementChange=(e,t)=>{let a=e.target.name,i=e.target.value,n=t.original,r=this.state,l=r.replacementCart,s=r.errors,o=r.stock,c=r.stockData;switch(a){case"length":case"breath":case"height":""!==i&&h.c.test(i)?(l[a]=i,s[a]=""):i||(l[a]="",s[a]="Required!"),l.item_dimensions="".concat(l.length,"x").concat(l.breath).concat(l.height?"x"+l.height:""," inch"),o=null,c="notvalid",s.note="";break;case"product":if(""!==i?(l[a]=i,s[a]=""):i||(l[a]="",s[a]="Required!"),o=null,c="notvalid",s.note="",l.item_sku=l.product,l.item_dimensions="",l.extra_specifications="",l.length="",l.breath="",l.height="",l.model="",s.length="",s.breath="",s.height="",s.model="",s.item_type="",s.dimension="",n.item_dimensions||n.addon_dimensions){let e=n.addon_dimensions||n.item_dimensions,t=e.toLocaleLowerCase().replace(" inch","").split("x");l.item_dimensions=e,l.length=t.length>0?t[0]:"",l.breath=t.length>1?t[1]:"",l.height=t.length>2?t[2]:"",l.model=""}l.cart_primary_id=n.id,l.affiliate_id=n.affiliate_id,l.action_type=2,l.item_price=n.item_price,l.item_type="",l.item_quantity="",l.extra_price="",l.payment_type="",l.payment_via="",l.extra_or_refund="",l.payment_ref_id="",l.created_by="",l.created_by_id="";break;case"item_type":""!==i?(l[a]=i,s[a]=""):i||(l[a]="",s[a]="Required!"),l.item_sku=l.product+i,o=null,c="notvalid",s.note="";break;case"dimension":l[a]=i,"WSMRC"===l.product&&(l.item_sku=l.product+l.model+i,"S"===i?(l.item_dimensions="60x90 inch",s.dimension=""):"D"===i?(l.item_dimensions="100x90 inch",s.dimension=""):(l.item_dimensions="",s.dimension="Required!")),o=null,c="notvalid",s.note="";break;case"model":""!==i?(l[a]=i,s[a]=""):i||(l[a]="",s[a]=["WSWB","WMP"].includes(l.product)?"":"Required!"),o=null,c="notvalid",s.note="";break;case"extra_or_refund":l[a]=i,s[a]="",l.extra_price="",s.extra_price="",l.payment_type=""!==i?"no"===String(n.cod_avaibility).toLocaleLowerCase()?"Online":"COD":"",l.payment_via="",l.payment_ref_id="",s.payment_type=s.payment_via=s.payment_ref_id="";break;case"extra_price":l.extra_or_refund&&(h.b.test(i)?(l[a]=i,s[a]=""):i||(l[a]="",s[a]="Required!")),s[a]=i?"":"Required!",s.payment_type=s.payment_via=s.payment_ref_id="";break;case"payment_type":l[a]=i,s[a]=i?"":"Required!",l.payment_via="",l.payment_ref_id="",s.payment_via="",s.payment_ref_id="";break;case"payment_via":case"payment_ref_id":l[a]=i,s[a]=i?"":"Required!";break;case"is_immediate":l.is_immediate=Number(i);break;case"item_quantity":""!==i?(l[a]=i,s[a]=""):i||(l[a]="",s[a]=["WSWB","WMP"].includes(l.product)?"":"Required!");break;default:l[a]=i}["WSWB","WFB"].includes(l.product)?l.item_sku=l.product+Object(g.e)(l.length)+Object(g.e)(l.breath)+Object(g.e)(l.height)+l.model:["WSMRC"].includes(l.product)?l.item_sku=l.product+l.model+l.dimension:l.item_sku=l.product+(l.item_type||"")+(l.model||"")+Object(g.e)(l.length)+Object(g.e)(l.breath)+Object(g.e)(l.height),this.setState({replacementCart:l,errors:s,stock:o,stockData:c},()=>console.log(this.state))},this.getCompleteSku=e=>{let t=e.item_sku;if(["WDCM","WOMFM","WHRFM"].includes(e.product)&&e.extra_specifications){let a=[t];return e.extra_specifications.includes("1")&&a.push("CORNER"),e.extra_specifications.includes("2")&&a.push("GREYCOVER"),e.extra_specifications.includes("3")&&a.push("SPECIAL"),e.extra_specifications.includes("4")&&a.push("WHITECOVER"),a.join("-")}return t},this.getValidation=e=>{e.preventDefault();let t=this.state,a=t.replacementCart,i=t.errors;a.product?["WFB","WSWB","WSMRC","WFOCOVER"].includes(a.product)?(["WSMRC"].includes(a.product)&&(a.dimension?i.dimension="":i.dimension="Required!"),["WFB","WSMRC","WFOCOVER"].includes(a.product)&&(a.model?i.model="":i.model="Required!")):["WSP","WFT"].includes(a.product)&&(a.item_type?i.item_type="":i.item_type="Required!"):i.product="Required!",(_e.includes(a.product)||ge.includes(a.product))&&(i.length=a.length?"":"Required!",i.breath=a.breath?"":"Required!",i.height=_e.includes(a.product)&&!a.height?"Required!":""),"valid"===this.state.stockData&&(a.item_quantity?i.item_quantity="":i.item_quantity="Required!",a.extra_or_refund&&(i.extra_or_refund="",a.extra_price?(i.extra_price="",a.payment_type?(i.payment_type="","COD"!==a.payment_type&&a.payment_via?(i.payment_via="",a.payment_ref_id?i.payment_ref_id="":i.payment_ref_id="Required!"):"COD"!==a.payment_type&&(i.payment_via="Required!")):i.payment_type="Required!"):i.extra_price="Required!")),this.setState({errors:i},()=>{console.log(this.state);let e=this.state.errors;e&&Object.keys(e).length>0&&!Object.keys(e).some(t=>""!==e[t])&&(console.log("Call API"),"valid"===this.state.stockData?(console.log("Replace"),this.submitReplacementRequest()):this.getProductDetails())})},this.submitReplacementRequest=()=>{let e=this.state.replacementCart,t=this.props,a=t.userDetails,i=t.rowInfo,n={action_type:2};n.affiliate_id=Number(i.original.affiliate_id||0),n.cart_primary_id=e.cart_primary_id||i.original.id,n.created_by=Object(_.a)(a),n.created_by_id=a.login_id,n.email=0!==Number(e.affiliate_id||0)?i.original.email_address:"",n.item_sku=this.getCompleteSku(e),n.item_dimensions=e.item_dimensions,n.item_quantity=Number(e.item_quantity),n.extra_or_refund=e.extra_or_refund,n.extra_price=Number(Object(g.d)(e.extra_price)),n.is_immediate=23===i.original.orm_order_status||i.original.rts_timestamp?1:e.is_immediate||0,n.payment_via=e.payment_via,n.payment_type=e.payment_type,n.payment_ref_id=e.payment_ref_id,console.log(this.state.editing,n),this.state.editing?this.props.editReplacement(n):this.props.createReplacement(n)},this.fillDefaultData=()=>{let e=this.props.rowInfo.original,t=e.replacement_detail,a=t.item_sku.split(/(\d+)/),i=t.item_dimensions,n=i.toLocaleLowerCase().replace(" inch","").split("x");console.log("Get Data",t,a,n);let r={};if(r.item_sku=t.item_sku.split("-")[0],a[0].includes("WMP"))r.product="WMP",r.model=a[0].includes("WMP")&&a[0].includes("MAROON")?"MAROON":a[0].includes("GREY")?"GREY":"";else if(a[0].includes("WSP"))r.product="WSP",r.item_type=a[0].includes("WSPS")?"S":a[0].includes("WSPD")?"D":"";else if(a[0].includes("WFOCOVER"))r.product="WFOCOVER",r.model=a[0].includes("WFOCOVERW")?"W":a[0].includes("WFOCOVERG")?"G":"";else if(a[0].includes("WFT"))r.product="WFT",r.item_type=a[0].includes("WFTHR")?"HR":a[0].includes("WFTMF")?"MF":a[0].includes("WFTSF")?"SF":a[0].includes("WFTMCF")?"CF":"";else if(a[0].includes("WSMRC")){r.product="WSMRC",String(a[0])&&a[0].length>0&&a[0].charAt(a[0].length-1)&&(r.dimension=a[0].charAt(a[0].length-1));let e=[...pe.b[r.product]].reverse().filter(e=>!0===a[0].includes(e.key));e.length>0&&(r.model=e[0].key)}else r.product=a[0]||"",r.model=["WDCM","WOMFM","WHRFM"].includes(a[0])?"":a[2]||"";r.item_dimensions=i,r.length=n.length>0?n[0]:"",r.breath=n.length>1?n[1]:"",r.height=i.length>2?n[2]:"",r.item_quantity=t.item_quantity,r.is_immediate=t.is_immediate?t.is_immediate:this.state.editing&&e.replacement_detail&&0!==e.replacement_detail.is_immediate?1:0,r.extra_specifications=[],t.item_sku.includes("CORNER")&&r.extra_specifications.push("1"),t.item_sku.includes("GREYCOVER")&&r.extra_specifications.push("2"),t.item_sku.includes("SPECIAL")&&r.extra_specifications.push("3"),t.item_sku.includes("WHITECOVER")&&r.extra_specifications.push("4"),r.cart_primary_id=e.id,r.extra_specifications=r.extra_specifications.join(",")||"",this.setState({replacementCart:r,errors:{}},()=>console.log(this.state))},this.toggleEditReplacement=()=>{this.setState({editing:!this.state.editing},()=>this.state.editing&&this.fillDefaultData())},this.state={replacementCart:{length:"",breath:"",height:"",model:"",dimension:"",extra_or_refund:"",extra_price:"",payment_type:"",payment_via:"",payment_ref_id:"",extra_specifications:""},maxQty:0,stock:null,stockData:"notvalid",note:"",errors:{},editing:!1}}render(){let e=this.props.rowInfo,t=e.original;if(2===t.rnr_resolution_type||5===t.rnr_resolution_type||this.state.editing){let a=t.replacement_detail,i=this.state,r=i.replacementCart,l=i.errors,s=[],o=Object(m.b)(t.item_sku);for(let e=0;e<t.item_quantity;e++)s.push(n.a.createElement("option",{key:"qty-".concat(e+1),value:e+1},e+1));return n.a.createElement("div",{className:"replacement-container",key:"replacement-".concat(e.index)},n.a.createElement("div",{className:"form-title"},"Replacement Product",a&&Object.keys(a).length>0&&!a.shipment_timestamp&&n.a.createElement("div",{style:{float:"right",cursor:"pointer",fontSize:"15px"},onClick:this.toggleEditReplacement},this.state.editing?n.a.createElement("i",{className:"fa fa-close","aria-hidden":"true"}):n.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"}))),this.state.editing||(2===t.rnr_resolution_type||5===t.rnr_resolution_type)&&0===Object.keys(a).length?n.a.createElement("div",{className:"replacement-form"},l.note&&n.a.createElement(G.a,{type:"error",message:l.note,toggle:!0,callbackOnClose:()=>this.setState({errors:Object(c.a)({},l,{note:""})})}),n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Choose Product:"),n.a.createElement("select",{name:"product",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.product},n.a.createElement("option",{value:""},"Select"),5===t.rnr_resolution_type?m.d.map((e,t)=>5===e.isRnrResolution&&n.a.createElement("option",{key:"product-".concat(t),value:e.key},e.label)):o.map((e,t)=>n.a.createElement("option",{key:"product-".concat(t),value:e.key},e.label))),l.product&&n.a.createElement("div",{className:"error-text"},l.product)),(_e.includes(r.product)||ge.includes(r.product))&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Dimensions:"),n.a.createElement("div",{className:"sku-container"},n.a.createElement("div",{className:"input-dimension-div"},n.a.createElement("input",{name:"length",className:"input-field input-dimension",value:r.length,onChange:t=>this.handleReplacementChange(t,e),placeholder:"L"}),l.length&&n.a.createElement("div",{className:"error-text"},l.length)),n.a.createElement("div",{className:"input-dimension-div"},n.a.createElement("input",{name:"breath",className:"input-field input-dimension",value:r.breath,onChange:t=>this.handleReplacementChange(t,e),placeholder:"B"}),l.breath&&n.a.createElement("div",{className:"error-text"},l.breath)),_e.includes(r.product)&&(["WOMFM","WDCM","WHRFM"].includes(r.product)?n.a.createElement("div",{className:"input-dimension-div"},n.a.createElement("select",{name:"height",className:"input-field input-dimension custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.height},n.a.createElement("option",{value:"5"},"5"),n.a.createElement("option",{value:"6"},"6"),n.a.createElement("option",{value:"8"},"8")),l.height&&n.a.createElement("div",{className:"error-text"},l.height)):n.a.createElement("div",{className:"input-dimension-div"},n.a.createElement("input",{name:"height",className:"input-field input-dimension",value:r.height,onChange:t=>this.handleReplacementChange(t,e),placeholder:"H"}),l.height&&n.a.createElement("div",{className:"error-text"},l.height))))),["WSP","WFT"].includes(r.product)&&pe.c[r.product]&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Model:"),n.a.createElement("select",{name:"item_type",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.item_type},n.a.createElement("option",{value:""},"Select"),pe.c[r.product].map((e,t)=>n.a.createElement("option",{key:"item_type-".concat(t),value:e.key},e.label))),l.item_type&&n.a.createElement("div",{className:"error-text"},l.item_type)),["WMP","WFOCOVER"].includes(r.product)&&pe.a[r.product]&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Model:"),n.a.createElement("select",{name:"model",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.model},pe.a[r.product]&&pe.a[r.product].map((e,t)=>n.a.createElement("option",{key:"model-".concat(t),value:e.key},e.label))),l.model&&n.a.createElement("div",{className:"error-text"},l.model)),["WFB","WSWB","WSMRC"].includes(r.product)&&pe.b[r.product]&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Model:"),n.a.createElement("select",{name:"model",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.model},n.a.createElement("option",{value:""},"WSWB"===r.product?"Centaurus Sheesham Bed":"Select"),pe.b[r.product].map((e,t)=>n.a.createElement("option",{key:"model-".concat(t),value:e.key},e.label))),l.model&&n.a.createElement("div",{className:"error-text"},l.model)),"WSMRC"===r.product&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Dimensions:"),n.a.createElement("select",{name:"dimension",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.dimension},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"S"},"Single"),n.a.createElement("option",{value:"D"},"Double")),l.dimension&&n.a.createElement("div",{className:"error-text"},l.dimension)),["WDCM","WOMFM","WHRFM"].includes(r.product)&&this.getExtraSpecifications(),"valid"===this.state.stockData&&n.a.createElement("div",null,this.state.stock&&n.a.createElement("div",null),n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Quantity:"),n.a.createElement("select",{name:"item_quantity",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.item_quantity},n.a.createElement("option",{value:""},"Select"),s),l.item_quantity&&n.a.createElement("div",{className:"error-text"},l.item_quantity)),!this.state.editing&&n.a.createElement("div",{className:"field-container"},n.a.createElement("b",null,"Payment Section"),n.a.createElement("div",{className:"payment-section"},n.a.createElement("div",null,n.a.createElement("select",{name:"extra_or_refund",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.extra_or_refund},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"extra payment"},"Extra Price")),l.extra_or_refund&&n.a.createElement("div",{className:"error-text"},l.extra_or_refund)),n.a.createElement("div",null,n.a.createElement("input",{name:"extra_price",className:"input-field",placeholder:"Amount",onChange:t=>this.handleReplacementChange(t,e),value:r.extra_price}),l.extra_price&&n.a.createElement("div",{className:"error-text"},l.extra_price)))),t.cod_avaibility&&"no"===String(t.cod_avaibility).toLocaleLowerCase()&&n.a.createElement("div",{className:"break-word comment-color"},n.a.createElement("b",null,"Note : ")," COD is not available at this given PIN Code."),!this.state.editing&&""!==r.extra_or_refund&&n.a.createElement("div",{className:"radio-button-container"},n.a.createElement(w,{"aria-label":"payment-type-replacement",name:"payment_type",row:!0,value:r.payment_type,onChange:t=>this.handleReplacementChange(t,e)},(!t.cod_avaibility||t.cod_avaibility&&"yes"===String(t.cod_avaibility).toLocaleLowerCase())&&n.a.createElement(S.a,{className:"radio-btn",value:"COD",control:n.a.createElement(F,{color:"primary"}),label:"COD"}),n.a.createElement(S.a,{className:"radio-btn",value:"Online",control:n.a.createElement(F,{color:"primary"}),label:"Online"})),l.payment_type&&n.a.createElement("div",{className:"error-text"},l.payment_type)),!this.state.editing&&"Online"===r.payment_type&&n.a.createElement("div",{className:"field-container payment"},n.a.createElement("b",null,"Payment Via"),n.a.createElement("div",{className:"payment-section"},n.a.createElement("div",null,n.a.createElement("select",{name:"payment_via",className:"custom-dropdown",onChange:t=>this.handleReplacementChange(t,e),value:r.payment_via},n.a.createElement("option",{value:""},"Select Source"),Object(H.b)("replacement").map(e=>n.a.createElement("option",null,e.name))),l.payment_via&&n.a.createElement("div",{className:"error-text"},l.payment_via)),n.a.createElement("div",null,n.a.createElement("input",{name:"payment_ref_id",className:"input-field",placeholder:"Ref Id",onChange:t=>this.handleReplacementChange(t,e),value:r.payment_ref_id}),l.payment_ref_id&&n.a.createElement("div",{className:"error-text"},l.payment_ref_id))))),n.a.createElement("div",{className:"checkbox-container"},r.product&&n.a.createElement(S.a,{control:n.a.createElement(he.a,{name:"is_immediate",disabled:this.state.editing&&t.replacement_detail&&0!==Number(t.replacement_detail.is_immediate),checked:1===Number(r.is_immediate),onChange:t=>this.handleReplacementChange(t,e),value:1===Number(r.is_immediate)?0:1,color:"primary"}),label:"Is Immediate"})),n.a.createElement("div",{style:{marginTop:"10px"}},"loading"!==this.state.stockData?n.a.createElement(d.a,{label:"notvalid"===this.state.stockData?"Check for Availability":this.state.editing?"Modify Replacement":"Create Replacement",onClick:this.getValidation}):n.a.createElement(B.a,null))):n.a.createElement("div",{className:"replacement-details-desc"},n.a.createElement("div",{className:"break-word"},a.item_sku&&Object(m.c)(a.item_sku)),a.item_dimensions&&n.a.createElement("div",null,n.a.createElement("b",null,"Dimensions :")," ",a.item_dimensions),n.a.createElement("div",null,n.a.createElement("b",null,"Payment Mode :")," ",a.payment_type),a.payment_ref_id&&n.a.createElement("div",null,n.a.createElement("b",null,"Payment Ref Id:")," ",a.payment_ref_id),n.a.createElement("div",null,n.a.createElement("b",null,"SKU :")," ",a.item_sku),n.a.createElement("div",null,n.a.createElement("b",null,"Qty :")," ",a.item_quantity),n.a.createElement("div",null,n.a.createElement("b",null,"Extra Price: "),Object(p.a)(a.extra_price||0)),a.coupon_flat_discount&&n.a.createElement("div",null,n.a.createElement("b",null,"Discount :")," ",Object(p.a)(a.coupon_flat_discount)),n.a.createElement("div",null,n.a.createElement("b",null,"Total :")," INR ",a.item_quantity," * ",Object(p.a)(a.extra_price||0)," ",a.coupon_flat_discount&&" - ".concat(Object(p.a)(a.coupon_flat_discount))," = ",Object(p.a)(Number(a.item_quantity)*Number(a.extra_price||0)-Number(a.coupon_flat_discount||0))),t.current_status>0&&n.a.createElement("div",null,n.a.createElement("b",null,"Current Status :")," ",Object(ue.a)(t.current_status).label),n.a.createElement("div",null,n.a.createElement("b",null,"Status :")," ",Object(u.b)(a.orm_order_status).label),0!==a.is_immediate?n.a.createElement("div",null,n.a.createElement("b",null,"Immediate :",n.a.createElement("span",{className:"text-red"}," Yes"))):0===t.replace_ref_id&&0===a.is_immediate&&n.a.createElement("div",{className:"break-word error-text note"},n.a.createElement("b",null,"Note :")," This is temp order once the return pickup completed then it will automatically create the order.")))}return n.a.createElement("div",null)}}const be=(e,t)=>String(Object(ue.a)(t._original.replacement_detail.current_status).label).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Object(m.c)(t._original.replacement_detail.item_sku)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.item_sku).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.item_dimensions).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.item_quantity).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.extra_price).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.payment_type).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t._original.replacement_detail.payment_ref_id).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(t[e.id]).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());fe.defaultProps={};var ye=fe,ve=(a(632),a(378)),Ee=(a(633),a(357));class ke extends i.Component{constructor(...e){super(...e),this.state={refundDetails:{refund_type:"",amount:"",comments:""}},this.submitRefundDetails=()=>{let e=this.state.refundDetails,t=this.props,a=t.userDetails,i=t.rowInfo.original,n={};n.affiliate_id=i.affiliate_id||0,n.cart_id=i.id,n.platform=0,n.refund_category=1,n.refund_status=1,n.reference_id="",n.created_by_role=Object(_.a)(a),n.created_by=a.login_id,"COD"===i.payment_type&&(n.account_holder_name="",n.account_number="",n.ifsc_code="",n.bank_name=""),"NA"===e.refund_type?(n.refund_type=e.refund_type,n.amount=Object(g.d)(e.amount)||0,n.comments=e.comments):n=Object(c.a)({},n,{},e,{amount:Object(g.d)(e.amount)}),this.props.initateRefundAction(n)},this.handleRefundChange=e=>{let t=e.target.name,a=e.target.value,i=this.state.refundDetails;switch(t){case"refund_type":"NA"===a&&(i.amount=0),i[t]=a;break;case"amount":i[t]=h.b.test(a)?a:""!==a?i[t]:"";break;default:i[t]=a}this.setState({refundDetails:i})}}render(){let e=this.state.refundDetails,t=this.props.rowInfo.original;return n.a.createElement("div",{className:"refund-details-form"},n.a.createElement("div",null,n.a.createElement("select",{name:"refund_type",className:"custom-dropdown",onChange:this.handleRefundChange,value:e.refund_type},n.a.createElement("option",{value:""},"Select Refund Type"),n.a.createElement("option",{value:"Partial"},"Partial Refund"),n.a.createElement("option",{value:"Full"},"Full Refund"),n.a.createElement("option",{value:"NA"},"Not Applicable"))),n.a.createElement("div",null,n.a.createElement("input",{name:"amount",className:"input-field",placeholder:"Refund Amount",onChange:this.handleRefundChange,value:e.amount,disabled:"NA"===e.refund_type})),n.a.createElement("div",null,n.a.createElement("textarea",{name:"comments",className:"input-field custom-text-area",placeholder:"Refund Comments",rows:5,onChange:this.handleRefundChange,value:e.comments})),"COD"===t.payment_type&&"NA"!==e.refund_type&&n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement("b",null,"Bank Details (incase of COD)"),n.a.createElement("div",null,n.a.createElement("input",{name:"account_holder_name",className:"input-field",placeholder:"Account Holder Name",onChange:this.handleRefundChange,value:e.account_holder_name})),n.a.createElement("div",null,n.a.createElement("input",{name:"account_number",className:"input-field",placeholder:"Account Number",onChange:this.handleRefundChange,value:e.account_number})),n.a.createElement("div",null,n.a.createElement("input",{name:"ifsc_code",className:"input-field",placeholder:"IFSC Code",onChange:this.handleRefundChange,value:e.ifsc_code})),n.a.createElement("div",null,n.a.createElement("input",{name:"bank_name",className:"input-field",placeholder:"Bank Name",onChange:this.handleRefundChange,value:e.bank_name}))),n.a.createElement(d.a,{className:"initiate-refund-btn",label:"Initiate Refund",onClick:this.submitRefundDetails}))}}var Ce=Object(r.b)((e,t)=>({userDetails:e.userDetails}),e=>Object(l.b)({initateRefundAction:Ee.e},e))(ke);class Ne extends i.Component{constructor(...e){super(...e),this.getTitle=()=>n.a.createElement("div",{className:"form-title"},"Refund Details")}render(){let e=this.props.rowInfo.original;if(1===e.rnr_resolution_type||2===e.rnr_resolution_type||5===e.rnr_resolution_type){let t=e.refund_detail;return n.a.createElement("div",{className:"refund-details"},0===e.refund_status||Array.isArray(t)&&t.length>0&&0===t.filter(e=>1===e.refund_category).length?n.a.createElement("div",null,this.getTitle(),n.a.createElement(Ce,{rowInfo:this.props.rowInfo}),t&&Array.isArray(t)&&t.length>0&&n.a.createElement("div",null,Object(ve.a)(t))):t&&Array.isArray(t)&&t.length>0&&n.a.createElement("div",null,this.getTitle(),Object(ve.a)(t)))}return n.a.createElement("div",null)}}const Re=(e,t)=>String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.reference_id?"Processed":"Initiated")).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Object(te.c)(t._original.create_timestamp)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.amount)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.refund_type)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.comments)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.account_holder_name)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.account_number)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.bank_name)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase())||String(Array.isArray(t._original.refund_detail)&&t._original.refund_detail.map(e=>e.ifsc_code)).toLocaleLowerCase().includes(e.value.toLocaleLowerCase());Ne.defaultProps={};var Oe=Ne,we=a(330);class Se extends i.Component{constructor(...e){super(...e),this.state={offset:0,limit:we.a,total:0},this.resetPagination=()=>{console.log("Reseting..."),this.setState({offset:0,limit:we.a,total:this.props.data.count||0})},this.onLimitChange=e=>{this.setState({limit:Number(e.target.value)},()=>this.handleClick("reset"))},this.handleClick=e=>{let t=this.state,a=t.limit,i=t.offset,n=t.total,r=this.props.userRole;this.setState({offset:"next"===e?i+a<n?i+a:i:"prev"===e&&i-a>=0?i-a:0},()=>{let e=this.state,t=e.limit,a=e.offset;this.props.getReturnReplaceOrdersAction(this.props.activePlatform.slug,this.props.activeTab.slug,r,t,a)})},this.handlePaymentTrackIdChange=(e,t)=>{let a=e.target.name,i=e.target.value,n=this.state.paymentTrackId;n[a]=i,n.order_random_id=t.original.order_random_id,n.affiliate_id=t.original.affiliate_id||0,n.editing=t.index,this.setState({paymentTrackId:n})}}componentWillMount(){this.props.data.results&&this.setState({total:this.props.data.count})}componentWillReceiveProps(e){this.props.activePlatform&&this.props.activePlatform.slug!==e.activePlatform.slug&&this.props.activeTab&&this.props.activeTab.id!==e.activeTab.id||e.refreshOrders?!this.props.orderIdSearch&&this.props.getReturnReplaceOrdersAction(e.activePlatform.slug,e.activeTab.slug,this.props.userRole,this.state.limit,this.state.offset):(this.props.activePlatform&&this.props.activePlatform.slug!==e.activePlatform.slug||this.props.activeTab&&this.props.activeTab.id!==e.activeTab.id)&&this.resetPagination(),e.data.results&&this.setState({total:e.data.count})}render(){let e=this.props,t=e.data,a=e.orderIdSearch,i=t.results||[];return n.a.createElement("div",{className:"returns-table-container"},0===i.length?this.props.getNoOrders():n.a.createElement(s.b,{data:i,filterable:!0,minRows:0,pageSize:999,PaginationComponent:()=>n.a.createElement(o.a,{dropDownValues:we.b,onLimitChange:this.onLimitChange,offset:this.state.offset,total:this.state.total,limit:this.state.limit,onPrevClick:this.handleClick,onNextClick:this.handleClick}),NoDataComponent:()=>null,defaultFilterMethod:(e,t)=>String(t[e.id]).toLocaleLowerCase().includes(e.value.toLocaleLowerCase()),columns:[{Header:"S.No",id:"row",maxWidth:50,filterable:!1,Cell:e=>n.a.createElement("div",null,e.index+1)},{Header:"Affiliate",accessor:"affiliate_id",show:this.props.activePlatform&&"affiliate"===this.props.activePlatform.slug,width:80,Cell:Z.b,filterMethod:Z.a},{Header:"Order ID",accessor:"order_random_id",width:210,Cell:e=>n.a.createElement(X.a,{isReturnModule:!0,rowInfo:e,orderIdSearch:a,userRole:this.props.userRole,activePlatform:this.props.activePlatform,userDetails:this.props.userDetails,getCommentsByOrder:this.props.getCommentsByOrder,updateCustomer:this.props.submitPaymentTrackId}),filterMethod:X.b},{Header:"Cart Details",accessor:"item_sku",width:250,Cell:e=>n.a.createElement(K.b,{rowInfo:e,allOrders:i,userDetails:this.props.userDetails,getMoreModifiedHistoryByOrder:this.props.getMoreModifiedHistoryByOrder}),filterMethod:K.a},{Header:"User Details",accessor:"customer_details",width:250,Cell:e=>n.a.createElement($.b,{rowInfo:e,userDetails:this.props.userDetails,showPopup:this.props.showPopup,clickToCall:this.props.clickToCall}),filterMethod:$.a},{Header:"Customer Return Details",accessor:"return_reason_id",width:250,Cell:e=>n.a.createElement(se,{rowInfo:e,userDetails:this.props.userDetails}),filterMethod:le},{Header:"Return Resolution Type",accessor:"rnr_resolution_type",width:250,Cell:e=>n.a.createElement(ne,{rowInfo:e,userDetails:this.props.userDetails,returnReplacementApprove:this.props.returnReplacementApproveAction}),filterMethod:ie},{Header:"Packaging/Return PickUp Details",accessor:"packaging_detail",show:this.props.activeTab&&"requested"!==this.props.activeTab.slug||a,width:250,Cell:e=>n.a.createElement(me,{rowInfo:e,userDetails:this.props.userDetails,sendPackagingAction:this.props.sendPackagingAction,returnPickupAction:this.props.returnPickupAction,recreatePickupAction:this.props.recreatePickupAction}),filterMethod:de},{Header:"Accessories Details",accessor:"accessories_detail",show:this.props.activeTab&&"requested"!==this.props.activeTab.slug||a,width:280,Cell:e=>n.a.createElement(U,{rowInfo:e,userDetails:this.props.userDetails,submitAccessoryRequest:this.props.submitAccessoryRequest}),filterMethod:Y},{Header:"Replacement Details",accessor:"replacement_detail",show:this.props.activeTab&&"requested"!==this.props.activeTab.slug||a,width:250,Cell:e=>n.a.createElement(ye,{rowInfo:e,userDetails:this.props.userDetails,createReplacement:this.props.createReplacement,editReplacement:this.props.editReplacement}),filterMethod:be},{Header:"Refund Details",accessor:"refund_detail",show:this.props.activeTab&&"requested"!==this.props.activeTab.slug||a,width:250,Cell:e=>n.a.createElement(Oe,{rowInfo:e,userDetails:this.props.userDetails,initateRefund:this.props.initateRefund}),filterMethod:Re},{Header:"Create Timestamp",accessor:"create_timestamp",width:150,Cell:J.a,filterMethod:J.b},{Header:"Last Update Time",accessor:"update_timestamp",width:150,Cell:J.a,filterMethod:J.b}]}))}}var Le=Se,xe=a(343),De=a(137),Pe=a(355),Ae=a(30),qe=a(85),We=a(360);class je extends n.a.Component{constructor(...e){super(...e),this.state={platforms:[],tabs:[],orderId:""},this.changePlatform=e=>{this.setState({activePlatform:e,orderId:""},()=>this.changeTab(this.state.tabs[0]))},this.changeTab=e=>{let t=this.props,a=t.platform,i=t.slug,n=t.cetId,r=this.state.activePlatform;this.state.orderId||r.slug===a&&e.slug===i||(n?this.props.history.push("/returns-replacement/".concat(n,"/").concat(r.slug,"/").concat(e.slug)):this.props.history.push("/returns-replacement/".concat(r.slug,"/").concat(e.slug))),this.setState({activeTab:e},()=>{let t=this.props.userDetails;this.props.resetOrders(),!this.state.orderId&&t&&t.role&&!t.role.includes("TEAML")&&!t.role.includes("PARTNERSHIPS")&&this.props.getReturnReplaceOrdersAction(this.state.activePlatform.slug,e.slug,this.props.userRole,we.a,0)})},this.getPlatformTabs=()=>n.a.createElement("div",{className:"platform-tabs"},this.state.platforms.map((e,t)=>n.a.createElement("div",{key:t,className:this.state.activePlatform&&this.state.activePlatform.slug===e.slug?"tab-invert pointer active":"tab-invert pointer",onClick:()=>this.changePlatform(e)},e.label))),this.getTabs=()=>n.a.createElement("div",{className:"menu-container"},this.state.tabs.map((e,t)=>n.a.createElement("div",{key:t,className:this.state.activeTab&&this.state.activeTab.slug===e.slug?"tab pointer active":"tab pointer",onClick:()=>this.changeTab(e)},e.label))),this.handleOrderIdChange=e=>{this.setState({orderId:e.target.value})},this.searchByOrderId=e=>{e.preventDefault(),console.log("Getting...",this.state.orderId);let t=this.state.activePlatform;this.props.history.push("/returns-replacement/".concat(t.slug,"?orderId=").concat(this.state.orderId)),this.props.getReturnReplaceOrdersByOrderIdAction(this.state.orderId,t.slug,this.props.userRole,we.a,0)},this.getNoOrders=()=>n.a.createElement("div",{className:"no-orders"},"There is No Orders, Please Try After Some Time...")}componentDidMount(){let e=this.props,t=e.platform,a=e.slug,i=e.cetId,n=Object(xe.a)("C"),r=Object(u.d)(this.props.userRole);this.setState({orderId:Object(We.a)("orderId")});let l=n.filter(e=>e.slug===t),s=r.filter(e=>e.slug===a);if(i&&(0===l.length||0===s.length)){let e=l.length>0?l[0].slug:n.length>0?n[0].slug:"",t=s.length>0?s[0].slug:r.length>0?r[0].slug:"";this.props.history.push("/returns-replacement/".concat(i,"/").concat(e,"/").concat(t))}this.setState({platforms:n,tabs:r,activePlatform:l[0]||n[0],activeTab:s[0]||r[0]},()=>{this.changeTab(this.state.activeTab),this.state.orderId&&this.props.getReturnReplaceOrdersByOrderIdAction(this.state.orderId,this.state.activePlatform.slug,this.props.userRole,we.a,0)})}componentWillReceiveProps(e){if(e.refreshOrders){let e=this.state,t=e.activePlatform,a=e.orderId,i=this.props.userRole;this.state.orderId&&this.props.getReturnReplaceOrdersByOrderIdAction(a,t.slug,i,we.a,0)}}componentWillUnmount(){this.props.resetOrders()}render(){let e=this.state,t=e.activePlatform,a=e.activeTab,i=e.orderId,r=this.props,l=r.userRole,s=r.orders,o=r.userDetails,c=r.refreshOrders,m="Order List - ".concat(a&&a.label);return l?n.a.createElement("div",{className:"returns-module-container"},n.a.createElement(qe.a,{header:m,count:s&&s.count}),this.getPlatformTabs(),!Object(We.a)("orderId")&&this.getTabs(),n.a.createElement("div",{className:"additional-feature"},n.a.createElement("form",{className:"order-id-serach"},n.a.createElement("input",{type:"text",className:"input-field",placeholder:"Order ID",onChange:this.handleOrderIdChange,value:this.state.orderId}),n.a.createElement(d.a,{label:"Search",type:"submit",disabled:!this.state.orderId,onClick:this.searchByOrderId}))),s?n.a.createElement(Le,{userRole:l,activePlatform:t,activeTab:a,data:s,orderIdSearch:i,userDetails:o,getReturnReplaceOrdersAction:this.props.getReturnReplaceOrdersAction,clickToCall:this.props.clickToCallAction,getMoreModifiedHistoryByOrder:this.props.getMoreModifiedHistoryByOrder,getCommentsByOrder:this.props.getCommentsByOrder,submitPaymentTrackId:this.props.submitPaymentTrackId,refreshOrders:c,getNoOrders:this.getNoOrders,returnReplacementApproveAction:this.props.returnReplacementApproveAction,createReplacement:this.props.createReplacement,editReplacement:this.props.editReplacement,submitAccessoryRequest:this.props.submitAccessoryRequest,recreatePickupAction:this.props.recreatePickupAction,sendPackagingAction:this.props.sendPackagingAction,returnPickupAction:this.props.returnPickupAction,initateRefund:this.props.initateRefundAction,showPopup:this.props.showPopup}):this.getNoOrders()):n.a.createElement("div",null,"UserRole is not given...")}}t.default=Object(r.b)((e,t)=>({userDetails:e.userDetails,orders:e.return.ordersData,orderIdSearch:e.general.orderIdSearch,refreshOrders:e.return.refreshOrders}),e=>Object(l.b)({getReturnReplaceOrdersAction:Ee.c,getReturnReplaceOrdersByOrderIdAction:Ee.d,resetOrders:Ee.h,clickToCallAction:De.f,serachByOrderId:De.q,getCommentsByOrder:De.i,submitPaymentTrackId:De.s,getMoreModifiedHistoryByOrder:Pe.b,returnReplacementApproveAction:Ee.j,sendPackagingAction:Ee.k,returnPickupAction:Ee.i,createReplacement:Ee.a,editReplacement:Ee.b,submitAccessoryRequest:Ee.l,recreatePickupAction:Ee.f,initateRefundAction:Ee.e,showPopup:Ae.b},e))(je)}}]);
//# sourceMappingURL=8.c375e257.chunk.js.map